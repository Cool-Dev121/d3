(function(){function f(a){return a.data}function e(a){return a.measures}function d(a){return a.markers}function c(a){return a.ranges}function b(a){return a.subtitle}function a(a){return a.title}d3.chart={},d3.chart.bullet=function(){function s(s){var t=0;s.map(function(a,b){var c=k.call(this,a,b).slice().sort(d3.descending),d=l.call(this,a,b).slice().sort(d3.descending),e=m.call(this,a,b).slice().sort(d3.descending);t=Math.max(t,c[0],d[0],e[0]);return{title:[i.call(this,a,b)],subtitle:[j.call(this,a,b)],ranges:c,markers:d,measures:e,data:a}});var u=g==="right"||g==="bottom";q.domain([0,t]);var v=function(a){return u?function(b){return n-a(b)}:0},w=s.select("text.title");w.empty()&&(w=s.append("svg:text").attr("class","title").attr("dy","1em").style("font-weight","bold")),w.text(a);var x=s.select("text.subtitle");x.empty()&&(x=s.append("svg:text").attr("class","subtitle").attr("dy","2.5em").style("font-size",".7em").style("fill","#999")),x.text(b);var y=s.select("g.chart");y.empty()&&(y=s.append("svg:g").attr("class","chart").attr("transform","translate(120)"));var z=y.selectAll("rect.range").data(c);z.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",p).attr("height",o).attr("x",v(p)).transition().duration(h).attr("width",q).attr("x",v(q)),z.transition().duration(h).attr("x",v(q)).attr("width",q).attr("height",o);var A=y.selectAll("rect.measure").data(e);A.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",p).attr("height",o/3).attr("x",v(p)).attr("y",o/3).transition().duration(h).attr("width",q).attr("x",v(q)),A.transition().duration(h).attr("width",q).attr("height",o/3).attr("x",v(q)).attr("y",o/3);var B=y.selectAll("line.marker").data(d),C=function(a){return u?function(b){return n-a(b)}:a};B.enter().append("svg:line").attr("class","marker").attr("x1",C(p)).attr("x2",C(p)).attr("y1",o/6).attr("y2",o*5/6).transition().duration(h).attr("x1",C(q)).attr("x2",C(q)),B.transition().duration(h).attr("x1",C(q)).attr("x2",C(q)).attr("y1",o/6).attr("y2",o*5/6);var D=y.selectAll("g.tick").data(q.ticks(8),r),E=function(a){return function(b){return"translate("+a(b)+",0)"}},F=D.enter().append("svg:g").attr("class","tick").attr("transform",E(C(p))).attr("opacity",1e-6);F.append("svg:line").attr("y1",o).attr("y2",o*7/6),F.append("svg:text").attr("text-anchor","middle").attr("dy","1em").attr("y",o*7/6).text(r),F.transition().duration(h).attr("transform",E(C(q))).attr("opacity",1);var G=D.transition().duration(h).attr("transform",E(C(q))).attr("opacity",1);G.select("line").attr("y1",o).attr("y2",o*7/6),G.select("text").attr("y",o*7/6),D.exit().transition().duration(h).attr("transform",E(C(q))).attr("opacity",1e-6).remove(),s.map(f),p.domain([0,t])}var g="left",h=0,i=a,j=b,k=c,l=d,m=e,n=380,o=30,p=d3.scale.linear().domain([0,Infinity]).range([0,n]),q=d3.scale.linear().range([0,n]),r=d3.format(",.0f");s.orient=function(a){if(!arguments.length)return g;g=a;return s},s.ranges=function(a){if(!arguments.length)return k;k=a;return s},s.markers=function(a){if(!arguments.length)return l;l=a;return s},s.measures=function(a){if(!arguments.length)return m;m=a;return s},s.width=function(a){if(!arguments.length)return n;p.range([0,n=a]),q.range([0,n]);return s},s.height=function(a){if(!arguments.length)return o;o=a;return s},s.tickFormat=function(a){if(!arguments.length)return r;r=a;return s},s.duration=function(a){if(!arguments.length)return h;h=a;return s};return s}})()