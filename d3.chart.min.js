(function(){function d(a){return a.data}function c(a){return a.measures}function b(a){return a.markers}function a(a){return a.ranges}d3.chart={},d3.chart.bullet=function(){function o(e){var j=0;e.map(function(a,b){var c=g.call(this,a,b).slice().sort(d3.descending),d=h.call(this,a,b).slice().sort(d3.descending),e=i.call(this,a,b).slice().sort(d3.descending);j=Math.max(j,c[0],d[0],e[0]);return{ranges:c,markers:d,measures:e,data:a}}),m.domain([0,j]);var o=e.selectAll("rect.range").data(a);o.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",l).attr("height",k).transition().duration(f).attr("width",m),o.transition().duration(f).attr("width",m).attr("height",k);var p=e.selectAll("rect.measure").data(c);p.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",l).attr("height",k/3).attr("y",k/3).transition().duration(f).attr("width",m),p.transition().duration(f).attr("width",m).attr("height",k/3).attr("y",k/3);var q=e.selectAll("line.marker").data(b);q.enter().append("svg:line").attr("class","marker").attr("x1",l).attr("x2",l).attr("y1",k/6).attr("y2",k*5/6).transition().duration(f).attr("x1",m).attr("x2",m),q.transition().duration(f).attr("x1",m).attr("x2",m).attr("y1",k/6).attr("y2",k*5/6);var r=e.selectAll("g.tick").data(m.ticks(10),n),s=r.enter().append("svg:g").attr("class","tick").attr("transform",function(a){return"translate("+l(a)+",0)"}).attr("opacity",1e-6);s.append("svg:line").attr("y1",k).attr("y2",k*7/6),s.append("svg:text").attr("text-anchor","middle").attr("dy","1em").attr("y",k*7/6).text(n),s.transition().duration(f).attr("transform",function(a){return"translate("+m(a)+",0)"}).attr("opacity",1);var t=r.transition().duration(f).attr("transform",function(a){return"translate("+m(a)+",0)"}).attr("opacity",1);t.select("line").attr("y1",k).attr("y2",k*7/6),t.select("text").attr("y",k*7/6),r.exit().transition().duration(f).attr("transform",function(a){return"translate("+m(a)+",0)"}).attr("opacity",1e-6).remove(),e.map(d),l.domain([0,j])}var e="left",f=0,g=a,h=b,i=c,j=800,k=30,l=d3.scale.linear().domain([0,Infinity]).range([0,j]),m=d3.scale.linear().range([0,j]),n=d3.format(",.0f");o.orient=function(a){if(!arguments.length)return e;e=a;return o},o.ranges=function(a){if(!arguments.length)return g;g=a;return o},o.markers=function(a){if(!arguments.length)return h;h=a;return o},o.measures=function(a){if(!arguments.length)return i;i=a;return o},o.width=function(a){if(!arguments.length)return j;l.range([0,j=a]),m.range([0,j]);return o},o.height=function(a){if(!arguments.length)return k;k=a;return o},o.tickFormat=function(a){if(!arguments.length)return n;n=a;return o},o.duration=function(a){if(!arguments.length)return f;f=a;return o};return o}})()