(function(){function h(a){return a}function g(a){return a.data}function f(a){return a.chart}function e(a){return a.measures}function d(a){return a.markers}function c(a){return a.ranges}function b(a){return a.subtitle}function a(a){return a.title}d3.chart={},d3.chart.bullet=function(){function u(u){var v=0;u.map(function(a,b){var c=m.call(this,a,b).slice().sort(d3.descending),d=n.call(this,a,b).slice().sort(d3.descending),e=o.call(this,a,b).slice().sort(d3.descending);v=Math.max(v,c[0],d[0],e[0]);return{title:[k.call(this,a,b)],subtitle:[l.call(this,a,b)],chart:[{ranges:c,markers:d,measures:e}],data:a}});var w=i==="right"||i==="bottom";s.domain([0,v]);var x=function(a){return w?function(b){return p-a(b)}:0},y=u.selectAll("text.title").data(a);y.enter().append("svg:text").attr("class","title").attr("dy","1em").style("font-weight","bold").text(h),y.text(h);var z=u.selectAll("text.subtitle").data(b);z.enter().append("svg:text").attr("class","subtitle").attr("dy","2.5em").style("font-size",".7em").style("fill","#999").text(h),z.text(h),u.selectAll("g.chart").data(f).enter().append("svg:g").attr("class","chart").attr("transform","translate(120)");var A=u.selectAll("g.chart"),B=A.selectAll("rect.range").data(c);B.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",r).attr("height",q).attr("x",x(r)).transition().duration(j).attr("width",s).attr("x",x(s)),B.transition().duration(j).attr("x",x(s)).attr("width",s).attr("height",q);var C=A.selectAll("rect.measure").data(e);C.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",r).attr("height",q/3).attr("x",x(r)).attr("y",q/3).transition().duration(j).attr("width",s).attr("x",x(s)),C.transition().duration(j).attr("width",s).attr("height",q/3).attr("x",x(s)).attr("y",q/3);var D=A.selectAll("line.marker").data(d),E=function(a){return w?function(b){return p-a(b)}:a};D.enter().append("svg:line").attr("class","marker").attr("x1",E(r)).attr("x2",E(r)).attr("y1",q/6).attr("y2",q*5/6).transition().duration(j).attr("x1",E(s)).attr("x2",E(s)),D.transition().duration(j).attr("x1",E(s)).attr("x2",E(s)).attr("y1",q/6).attr("y2",q*5/6);var F=A.selectAll("g.tick").data(s.ticks(8),t),G=function(a){return function(b){return"translate("+a(b)+",0)"}},H=F.enter().append("svg:g").attr("class","tick").attr("transform",G(E(r))).attr("opacity",1e-6);H.append("svg:line").attr("y1",q).attr("y2",q*7/6),H.append("svg:text").attr("text-anchor","middle").attr("dy","1em").attr("y",q*7/6).text(t),H.transition().duration(j).attr("transform",G(E(s))).attr("opacity",1);var I=F.transition().duration(j).attr("transform",G(E(s))).attr("opacity",1);I.select("line").attr("y1",q).attr("y2",q*7/6),I.select("text").attr("y",q*7/6),F.exit().transition().duration(j).attr("transform",G(E(s))).attr("opacity",1e-6).remove(),u.map(g),r.domain([0,v])}var i="left",j=0,k=a,l=b,m=c,n=d,o=e,p=380,q=30,r=d3.scale.linear().domain([0,Infinity]).range([0,p]),s=d3.scale.linear().range([0,p]),t=d3.format(",.0f");u.orient=function(a){if(!arguments.length)return i;i=a;return u},u.ranges=function(a){if(!arguments.length)return m;m=a;return u},u.markers=function(a){if(!arguments.length)return n;n=a;return u},u.measures=function(a){if(!arguments.length)return o;o=a;return u},u.width=function(a){if(!arguments.length)return p;r.range([0,p=a]),s.range([0,p]);return u},u.height=function(a){if(!arguments.length)return q;q=a;return u},u.tickFormat=function(a){if(!arguments.length)return t;t=a;return u},u.duration=function(a){if(!arguments.length)return j;j=a;return u};return u}})()