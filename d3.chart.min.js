(function(){function d(a){return a.data}function c(a){return a.measures}function b(a){return a.markers}function a(a){return a.ranges}d3.chart={},d3.chart.bullet=function(){function o(o){var p=0;o.map(function(a,b){var c=g.call(this,a,b).slice().sort(d3.descending),d=h.call(this,a,b).slice().sort(d3.descending),e=i.call(this,a,b).slice().sort(d3.descending);p=Math.max(p,c[0],d[0],e[0]);return{ranges:c,markers:d,measures:e,data:a}});var q=e==="right"||e==="bottom";m.domain([0,p]);var r=function(a){return q?function(b){return j-a(b)}:0},s=o.selectAll("rect.range").data(a);s.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",l).attr("height",k).attr("x",r(l)).transition().duration(f).attr("width",m).attr("x",r(m)),s.transition().duration(f).attr("x",r(m)).attr("width",m).attr("height",k);var t=o.selectAll("rect.measure").data(c);t.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",l).attr("height",k/3).attr("x",r(l)).attr("y",k/3).transition().duration(f).attr("width",m).attr("x",r(m)),t.transition().duration(f).attr("width",m).attr("height",k/3).attr("x",r(m)).attr("y",k/3);var u=o.selectAll("line.marker").data(b),v=function(a){return q?function(b){return j-a(b)}:a};u.enter().append("svg:line").attr("class","marker").attr("x1",v(l)).attr("x2",v(l)).attr("y1",k/6).attr("y2",k*5/6).transition().duration(f).attr("x1",v(m)).attr("x2",v(m)),u.transition().duration(f).attr("x1",v(m)).attr("x2",v(m)).attr("y1",k/6).attr("y2",k*5/6);var w=o.selectAll("g.tick").data(m.ticks(10),n),x=function(a){return function(b){return"translate("+a(b)+",0)"}},y=w.enter().append("svg:g").attr("class","tick").attr("transform",x(v(l))).attr("opacity",1e-6);y.append("svg:line").attr("y1",k).attr("y2",k*7/6),y.append("svg:text").attr("text-anchor","middle").attr("dy","1em").attr("y",k*7/6).text(n),y.transition().duration(f).attr("transform",x(v(m))).attr("opacity",1);var z=w.transition().duration(f).attr("transform",x(v(m))).attr("opacity",1);z.select("line").attr("y1",k).attr("y2",k*7/6),z.select("text").attr("y",k*7/6),w.exit().transition().duration(f).attr("transform",x(v(m))).attr("opacity",1e-6).remove(),o.map(d),l.domain([0,p])}var e="left",f=0,g=a,h=b,i=c,j=500,k=30,l=d3.scale.linear().domain([0,Infinity]).range([0,j]),m=d3.scale.linear().range([0,j]),n=d3.format(",.0f");o.orient=function(a){if(!arguments.length)return e;e=a;return o},o.ranges=function(a){if(!arguments.length)return g;g=a;return o},o.markers=function(a){if(!arguments.length)return h;h=a;return o},o.measures=function(a){if(!arguments.length)return i;i=a;return o},o.width=function(a){if(!arguments.length)return j;l.range([0,j=a]),m.range([0,j]);return o},o.height=function(a){if(!arguments.length)return k;k=a;return o},o.tickFormat=function(a){if(!arguments.length)return n;n=a;return o},o.duration=function(a){if(!arguments.length)return f;f=a;return o};return o}})()