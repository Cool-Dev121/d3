(function(){function f(a){var b=a(0);return function(c){return Math.abs(a(c)-b)}}function e(a){return function(b){return"translate("+a(b)+",0)"}}function d(a){return a.data}function c(a){return a.measures}function b(a){return a.markers}function a(a){return a.ranges}d3.chart={},d3.chart.bullet=function(){function o(o){var p=0,q=g=="right"||g=="bottom";o.map(function(a,b){var c=i.call(this,a,b).slice().sort(d3.descending),d=j.call(this,a,b).slice().sort(d3.descending),e=k.call(this,a,b).slice().sort(d3.descending);p=Math.max(p,c[0],d[0],e[0]);return{ranges:c,markers:d,measures:e,data:a}});var r,s=d3.scale.linear().domain([0,p]).range(q?[l,0]:[0,l]),t=o.selectAll("g.ticks");t.empty()?(r=d3.scale.linear().domain([0,Infinity]).range(s.range()),t.data([r]).enter().append("svg:g").attr("class","ticks"),t=o.selectAll("g.ticks")):t.each(function(a){r=a});var u=f(r),v=f(s),w=o.selectAll("rect.range").data(a);w.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",u).attr("height",m).attr("x",q?r:0).transition().duration(h).attr("width",v).attr("x",q?s:0),w.transition().duration(h).attr("x",q?s:0).attr("width",v).attr("height",m);var x=o.selectAll("rect.measure").data(c);x.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",u).attr("height",m/3).attr("x",q?r:0).attr("y",m/3).transition().duration(h).attr("width",v).attr("x",q?s:0),x.transition().duration(h).attr("width",v).attr("height",m/3).attr("x",q?s:0).attr("y",m/3);var y=o.selectAll("line.marker").data(b);y.enter().append("svg:line").attr("class","marker").attr("x1",r).attr("x2",r).attr("y1",m/6).attr("y2",m*5/6).transition().duration(h).attr("x1",s).attr("x2",s),y.transition().duration(h).attr("x1",s).attr("x2",s).attr("y1",m/6).attr("y2",m*5/6);var z=n||s.tickFormat(8),A=t.selectAll("g.tick").data(s.ticks(8),z),B=A.enter().append("svg:g").attr("class","tick").attr("transform",e(r)).attr("opacity",1e-6);B.append("svg:line").attr("y1",m).attr("y2",m*7/6),B.append("svg:text").attr("text-anchor","middle").attr("dy","1em").attr("y",m*7/6).text(z),B.transition().duration(h).attr("transform",e(s)).attr("opacity",1);var C=A.transition().duration(h).attr("transform",e(s)).attr("opacity",1);C.select("line").attr("y1",m).attr("y2",m*7/6),C.select("text").attr("y",m*7/6),A.exit().transition().duration(h).attr("transform",e(s)).attr("opacity",1e-6).remove(),o.map(d),o.selectAll("g.ticks").data([s])}var g="left",h=0,i=a,j=b,k=c,l=380,m=30,n=null;o.orient=function(a){if(!arguments.length)return g;g=a;return o},o.ranges=function(a){if(!arguments.length)return i;i=a;return o},o.markers=function(a){if(!arguments.length)return j;j=a;return o},o.measures=function(a){if(!arguments.length)return k;k=a;return o},o.width=function(a){if(!arguments.length)return l;l=a;return o},o.height=function(a){if(!arguments.length)return m;m=a;return o},o.tickFormat=function(a){if(!arguments.length)return n;n=a;return o},o.duration=function(a){if(!arguments.length)return h;h=a;return o};return o}})()