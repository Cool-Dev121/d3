(function(){d3.time={};d3.time.format=function(a){function b(e){for(var d=[],h=-1,i=0,j,m;++h<c;)if(a.charCodeAt(h)==37){d.push(a.substring(i,h),(m=f[j=a.charAt(++h)])?m(e):j);i=h+1}d.push(a.substring(i,h));return d.join("")}var c=a.length;b.parse=function(e){var d=new Date(1900,0,1);if(g(d,a,e,0)!=e.length)return null;if(d.i){e=d.getHours()%12;d.setHours(d.k?e+12:e)}delete d.i;delete d.k;return d};b.toString=function(){return a};return b};
function g(a,b,c,e){for(var d,h=0,i=b.length,j=c.length;h<i;){if(e>=j)return-1;d=b.charCodeAt(h++);if(d==37){d=k[b.charAt(h++)];if(!d||(e=d(a,c,e))<0)return-1}else if(d!=c.charCodeAt(e++))return-1}return e}
var l=d3.format("02d"),n=d3.format("03d"),o=d3.format("04d"),p=d3.format(" 2d"),f={a:function(a){return q[a.getDay()].substring(0,3)},A:function(a){return q[a.getDay()]},b:function(a){return r[a.getMonth()].substring(0,3)},B:function(a){return r[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return l(a.getDate())},e:function(a){return p(a.getDate())},H:function(a){return l(a.getHours())},I:function(a){return l(a.getHours()%12||12)},j:s,m:function(a){return l(a.getMonth()+1)},
M:function(a){return l(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return l(a.getSeconds())},U:t,w:function(a){return a.getDay()},W:u,x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return l(a.getYear()%100)},Y:function(a){return o(a.getFullYear()%1E4)},Z:v,"%":function(){return"%"}},k={a:w,A:x,b:y,B:z,c:A,d:B,e:B,H:C,I:D,m:E,M:F,p:G,S:H,x:I,X:J,y:K,Y:L};function w(a,b,c){return b.substring(c,c+=3).toLowerCase()in M?c:-1}
var M={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3};function x(a,b,c){N.lastIndex=0;return(a=N.exec(b.substring(c,c+10)))?c+a[0].length:-1}var N=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/ig,q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function y(a,b,c){b=O[b.substring(c,c+=3).toLowerCase()];return b==null?-1:(a.setMonth(b),c)}var O={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};
function z(a,b,c){P.lastIndex=0;return(b=P.exec(b.substring(c,c+12)))?(a.setMonth(Q[b[0].toLowerCase()]),c+b[0].length):-1}var P=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,Q={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},r=["January","February","March","April","May","June","July","August","September","October","November","December"];
function A(a,b,c){return g(a,f.o.toString(),b,c)}function I(a,b,c){return g(a,f.x.toString(),b,c)}function J(a,b,c){return g(a,f.n.toString(),b,c)}function L(a,b,c){R.lastIndex=0;return(b=R.exec(b.substring(c,c+4)))?(a.setFullYear(b[0]),c+b[0].length):-1}function K(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setFullYear(~~((new Date).getFullYear()/1E3)*1E3+ +b[0]),c+b[0].length):-1}
function E(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setMonth(b[0]-1),c+b[0].length):-1}function B(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setDate(+b[0]),c+b[0].length):-1}function C(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setHours(+b[0]),c+b[0].length):-1}function D(a,b,c){a.i=true;return C(a,b,c)}function F(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setMinutes(+b[0]),c+b[0].length):-1}
function H(a,b,c){S.lastIndex=0;return(b=S.exec(b.substring(c,c+2)))?(a.setSeconds(+b[0]),c+b[0].length):-1}var S=/[\s\d]{1,2}/,R=/[\s\d]{1,4}/;function G(a,b,c){b=T[b.substring(c,c+=2).toLowerCase()];return b==null?-1:(a.k=b,c)}var T={am:0,pm:1};function s(a){return n(1+~~((a-new Date(a.getFullYear(),0,1))/864E5))}function t(a){var b=new Date(a.getFullYear(),0,1);return l(~~(((a-b)/864E5+b.getDay())/7))}
function u(a){var b=new Date(a.getFullYear(),0,1);return l(~~(((a-b)/864E5+(b.getDay()+6)%7)/7))}function v(a){a=a.getTimezoneOffset();var b=Math.abs(a)%60;return(a>0?"-":"+")+l(~~(Math.abs(a)/60))+l(b)};})()
