(function(){function B(e){return e.reduce(C,0)}function D(e){for(var j=1,l=0,i=e[0].y,m,c=e.length;j<c;++j)if((m=e[j].y)>i){l=j;i=m}return l}function C(e,j){return e+j.y}function E(e){return e.children}function F(e){return e.value}function z(e,j){return j.value-e.value}d3.layout={};d3.layout.chord=function(){function e(){var f={},n=[],r=d3.range(g),q=[],o,p,u,s,t;i=[];m=[];o=0;for(s=-1;++s<g;){p=0;for(t=-1;++t<g;)p+=c[s][t];n.push(p);q.push(d3.range(g));o+=p}k&&r.sort(function(x,v){return k(n[x],
n[v])});a&&q.forEach(function(x,v){x.sort(function(G,H){return a(c[v][G],c[v][H])})});o=(2*Math.PI-h*g)/o;p=0;for(s=-1;++s<g;){u=p;for(t=-1;++t<g;){var w=r[s],y=q[s][t],A=c[w][y];f[w+"-"+y]={index:w,subindex:y,startAngle:p,endAngle:p+=A*o,value:A}}m.push({index:w,startAngle:u,endAngle:p,value:(p-u)/o});p+=h}for(s=-1;++s<g;)for(t=s-1;++t<g;){r=f[s+"-"+t];q=f[t+"-"+s];if(r.value||q.value)i.push({source:r,target:q})}b&&j()}function j(){i.sort(function(f,n){f=Math.min(f.source.value,f.target.value);n=
Math.min(n.source.value,n.target.value);return b(f,n)})}var l={},i,m,c,g,h=0,k,a,b;l.matrix=function(f){if(!arguments.length)return c;g=(c=f)&&c.length;i=m=null;return l};l.padding=function(f){if(!arguments.length)return h;h=f;i=m=null;return l};l.sortGroups=function(f){if(!arguments.length)return k;k=f;i=m=null;return l};l.sortSubgroups=function(f){if(!arguments.length)return a;a=f;i=null;return l};l.sortChords=function(f){if(!arguments.length)return b;b=f;i&&j();return l};l.chords=function(){i||
e();return i};l.groups=function(){m||e();return m};return l};d3.layout.force=function(){function e(){var a=k.length,b,f,n,r,q,o,p;for(b=0;b<a;++b){f=k[b];n=f.source;r=f.target;o=r.x-n.x;p=r.y-n.y;if(q=Math.sqrt(o*o+p*p)){q=m/(f.distance*f.distance)*(q-c*f.distance)/q;o*=q;p*=q;if(!r.fixed){r.x-=o;r.y-=p}if(!n.fixed){n.x+=o;n.y+=p}}}l.tick.dispatch({type:"tick"});return(m*=0.99)<0.0050}var j={},l=d3.dispatch("tick"),i=[1,1],m=0.5,c=30,g,h,k;j.on=function(a,b){l[a].add(b);return j};j.nodes=function(a){if(!arguments.length)return g;
g=a;return j};j.links=function(a){if(!arguments.length)return h;h=a;return j};j.size=function(a){if(!arguments.length)return i;i=a;return j};j.distance=function(a){if(!arguments.length)return c;c=a;return j};j.start=function(){var a,b,f,n=g.length;f=h.length;var r=i[0],q=i[1],o=[];for(a=0;a<n;++a){b=g[a];b.x=b.x||Math.random()*r;b.y=b.y||Math.random()*q;b.fixed=0;o[a]=[];for(b=0;b<n;++b)o[a][b]=Infinity;o[a][a]=0}for(a=0;a<f;++a){b=h[a];o[b.source][b.target]=1;o[b.target][b.source]=1;b.source=g[b.source];
b.target=g[b.target]}for(f=0;f<n;++f)for(a=0;a<n;++a)for(b=0;b<n;++b)o[a][b]=Math.min(o[a][b],o[a][f]+o[f][b]);k=[];for(a=0;a<n;++a)for(b=a+1;b<n;++b)k.push({source:g[a],target:g[b],distance:o[a][b]*o[a][b]});k.sort(function(p,u){return p.distance-u.distance});d3.timer(e);return j};j.resume=function(){m=0.1;d3.timer(e);return j};j.stop=function(){m=0;return j};j.drag=function(){function a(){if(b){var n=d3.svg.mouse(f);b.x=n[0];b.y=n[1];j.resume()}}var b,f;this.on("mouseover",function(n){n.fixed=true}).on("mouseout",
function(n){if(n!=b)n.fixed=false}).on("mousedown",function(n){(b=n).fixed=true;f=this;d3.event.preventDefault()});d3.select(window).on("mousemove",a).on("mouseup",function(){if(b){a();b.fixed=false;b=f=null}});return j};return j};d3.layout.partition=function(){function e(c,g,h,k){var a=c.children;c.x=g;c.y=c.depth*k;c.dx=h;c.dy=k;if(a){var b=-1,f=(a=a.slice().sort(z)).length,n;for(h/=c.value;++b<f;){e(n=a[b],g,c=n.value*h,k);g+=c}}}function j(c){c=c.children;var g=0;if(c)for(var h=-1,k=c.length;++h<
k;)g=Math.max(g,j(c[h]));return 1+g}function l(c,g){var h=i.call(this,c,g);e(h[0],0,m[0],m[1]/j(h[0]));return h}var i=d3.layout.hierarchy(),m=[1,1];l.children=d3.rebind(l,i.children);l.value=d3.rebind(l,i.value);l.size=function(c){if(!arguments.length)return m;m=c;return l};return l};d3.layout.pie=function(){function e(c){var g=+(typeof i=="function"?i.apply(this,arguments):i),h=(typeof m=="function"?m.apply(this,arguments):m)-i,k=d3.range(c.length);l!=null&&k.sort(function(f,n){return l(c[f],c[n])});
var a=c.map(j);h/=a.reduce(function(f,n){return f+n},0);var b=k.map(function(f){return{value:d=a[f],startAngle:g,endAngle:g+=d*h}});return c.map(function(f,n){return b[k[n]]})}var j=Number,l=null,i=0,m=2*Math.PI;e.value=function(c){if(!arguments.length)return j;j=c;return e};e.sort=function(c){if(!arguments.length)return l;l=c;return e};e.startAngle=function(c){if(!arguments.length)return i;i=c;return e};e.endAngle=function(c){if(!arguments.length)return m;m=c;return e};return e};d3.layout.stack=
function(){function e(i){var m=i.length,c=i[0].length,g,h,k,a=I[j](i);J[l](i,a);for(h=0;h<c;++h){g=1;for(k=i[a[0]][h].y0;g<m;++g)i[a[g]][h].y0=k+=i[a[g-1]][h].y}return i}var j="default",l="zero";e.order=function(i){if(!arguments.length)return j;j=i;return e};e.offset=function(i){if(!arguments.length)return l;l=i;return e};return e};var I={"inside-out":function(e){var j=e.length,l,i=e.map(D),m=e.map(B),c=d3.range(j).sort(function(b,f){return i[b]-i[f]}),g=0,h=0,k=[],a=[];for(e=0;e<j;e++){l=c[e];if(g<
h){g+=m[l];k.push(l)}else{h+=m[l];a.push(l)}}return a.reverse().concat(k)},reverse:function(e){return d3.range(e.length).reverse()},"default":function(e){return d3.range(e.length)}},J={silhouette:function(e,j){var l=e.length,i=e[0].length,m=[],c=0,g,h,k;for(h=0;h<i;++h){for(k=g=0;g<l;g++)k+=e[g][h].y;if(k>c)c=k;m.push(k)}h=0;for(g=j[0];h<i;++h)e[g][h].y0=(c-m[h])/2},wiggle:function(e,j){var l=e.length,i=e[0],m=i.length,c,g,h,k,a,b=j[0],f,n,r,q,o,p;e[b][0].y0=o=p=0;for(g=1;g<m;++g){for(f=c=0;c<l;++c)f+=
e[c][g].y;n=c=0;for(q=i[g].x-i[g-1].x;c<l;++c){h=0;k=j[c];for(r=(e[k][g].y-e[k][g-1].y)/(2*q);h<c;++h)r+=(e[a=j[h]][g].y-e[a][g-1].y)/q;n+=r*e[k][g].y}e[b][g].y0=o-=f?n/f*q:0;if(o<p)p=o}for(g=0;g<m;++g)e[b][g].y0-=p},zero:function(e,j){for(var l=0,i=e[0].length,m=j[0];l<i;++l)e[m][l].y0=0}};d3.layout.hierarchy=function(){function e(m,c,g){var h=l.call(j,m,c),k={depth:c,data:m};g.push(k);if(h){m=-1;var a=h.length,b=k.children=[],f=0;for(c+=1;++m<a;){d=e(h[m],c,g);if(d.value>0){b.push(d);f+=d.value;
d.parent=k}}k.value=f}else k.value=i.call(j,m,c);return k}function j(m){var c=[];e(m,0,c);return c}var l=E,i=F;j.children=function(m){if(!arguments.length)return l;l=m;return j};j.value=function(m){if(!arguments.length)return i;i=m;return j};return j};d3.layout.treemap=function(){function e(h,k){var a=h.children;h.area=h.value*k;if(a)for(var b=-1,f=a.length;++b<f;)e(a[b],k)}function j(h){if(h.children){var k={x:h.x,y:h.y,dx:h.dx,dy:h.dy},a=[],b=h.children.slice().sort(z),f,n=Infinity,r=Math.min(k.dx,
k.dy);for(a.area=0;(f=b.length)>0;){a.push(f=b[f-1]);a.area+=f.area;f=r;for(var q=a.area,o=void 0,p=0,u=Infinity,s=-1,t=a.length;++s<t;){o=a[s].area;if(o<u)u=o;if(o>p)p=o}q*=q;f*=f;if((f=Math.max(f*p/q,q/(f*u)))<=n){b.pop();n=f}else{a.area-=a.pop().area;l(a,r,k,false);r=Math.min(k.dx,k.dy);a.length=a.area=0;n=Infinity}}if(a.length){l(a,r,k,true);a.length=a.area=0}h.children.forEach(j)}}function l(h,k,a,b){var f=-1,n=h.length,r=a.x,q=a.y,o=k?c(h.area/k):0,p;if(k==a.dx){if(b||o>a.dy)o=a.dy;for(;++f<
n;){p=h[f];p.x=r;p.y=q;p.dy=o;r+=p.dx=c(p.area/o)}p.dx+=a.x+a.dx-r;a.y+=o;a.dy-=o}else{if(b||o>a.dx)o=a.dx;for(;++f<n;){p=h[f];p.x=r;p.y=q;p.dx=o;q+=p.dy=c(p.area/o)}p.dy+=a.y+a.dy-q;a.x+=o;a.dx-=o}}function i(h,k){var a=m.call(this,h,k),b=a[0];b.x=0;b.y=0;b.dx=g[0];b.dy=g[1];e(b,g[0]*g[1]/b.value);j(b);return a}var m=d3.layout.hierarchy(),c=Math.round,g=[1,1];i.children=d3.rebind(i,m.children);i.value=d3.rebind(i,m.value);i.size=function(h){if(!arguments.length)return g;g=h;return i};i.round=function(h){if(!arguments.length)return c!=
Number;c=h?Math.round:Number;return i};return i}})();
