(function(){d3.layout={};
d3.layout.chord=function(){function u(){var a={},h=[],v=d3.range(f),r=[],k,d,s,c,e;g=[];i=[];k=0;for(c=-1;++c<f;){d=0;for(e=-1;++e<f;)d+=j[c][e];h.push(d);r.push(d3.range(f));k+=d}l&&v.sort(function(t,m){return l(h[t],h[m])});n&&r.forEach(function(t,m){t.sort(function(z,A){return n(j[m][z],j[m][A])})});k=(2*Math.PI-o*f)/k;d=0;for(c=-1;++c<f;){s=d;for(e=-1;++e<f;){var p=v[c],w=r[p][e],x=j[p][w];a[c+"-"+e]={index:p,subindex:w,startAngle:d,endAngle:d+=x*k,value:x}}i.push({index:p,startAngle:s,endAngle:d,
value:(d-s)/k});d+=o}for(c=-1;++c<f;)for(e=c-1;++e<f;)g.push({source:a[c+"-"+e],target:a[e+"-"+c]});q&&y()}function y(){g.sort(function(a,h){a=Math.min(a.source.value,a.target.value);h=Math.min(h.source.value,h.target.value);return q(a,h)})}var b={},g,i,j,f,o=0,l,n,q;b.matrix=function(a){if(!arguments.length)return j;f=(j=a)&&j.length;g=i=null;return b};b.padding=function(a){if(!arguments.length)return o;o=a;g=i=null;return b};b.sortGroups=function(a){if(!arguments.length)return l;l=a;g=i=null;return b};
b.sortSubgroups=function(a){if(!arguments.length)return n;n=a;g=null;return b};b.sortChords=function(a){if(!arguments.length)return q;q=a;g&&y();return b};b.chords=function(){g||u();return g};b.groups=function(){i||u();return i};return b};})()
