(function(){function A(f){return f.reduce(B,0)}function C(f){for(var j=1,k=0,i=f[0].y,o,b=f.length;j<b;++j)if((o=f[j].y)>i){k=j;i=o}return k}function B(f,j){return f+j.y}function D(f){return f.children}function E(f){return f.value}function F(f,j){return j.value-f.value}d3.layout={};d3.layout.chord=function(){function f(){var g={},m=[],r=d3.range(e),q=[],n,p,u,s,t;i=[];o=[];n=0;for(s=-1;++s<e;){p=0;for(t=-1;++t<e;)p+=b[s][t];m.push(p);q.push(d3.range(e));n+=p}l&&r.sort(function(x,v){return l(m[x],
m[v])});a&&q.forEach(function(x,v){x.sort(function(G,H){return a(b[v][G],b[v][H])})});n=(2*Math.PI-h*e)/n;p=0;for(s=-1;++s<e;){u=p;for(t=-1;++t<e;){var w=r[s],y=q[s][t],z=b[w][y];g[w+"-"+y]={index:w,subindex:y,startAngle:p,endAngle:p+=z*n,value:z}}o.push({index:w,startAngle:u,endAngle:p,value:(p-u)/n});p+=h}for(s=-1;++s<e;)for(t=s-1;++t<e;){r=g[s+"-"+t];q=g[t+"-"+s];if(r.value||q.value)i.push({source:r,target:q})}c&&j()}function j(){i.sort(function(g,m){g=Math.min(g.source.value,g.target.value);m=
Math.min(m.source.value,m.target.value);return c(g,m)})}var k={},i,o,b,e,h=0,l,a,c;k.matrix=function(g){if(!arguments.length)return b;e=(b=g)&&b.length;i=o=null;return k};k.padding=function(g){if(!arguments.length)return h;h=g;i=o=null;return k};k.sortGroups=function(g){if(!arguments.length)return l;l=g;i=o=null;return k};k.sortSubgroups=function(g){if(!arguments.length)return a;a=g;i=null;return k};k.sortChords=function(g){if(!arguments.length)return c;c=g;i&&j();return k};k.chords=function(){i||
f();return i};k.groups=function(){o||f();return o};return k};d3.layout.force=function(){function f(){var a=l.length,c,g,m,r,q,n,p;for(c=0;c<a;++c){g=l[c];m=g.source;r=g.target;n=r.x-m.x;p=r.y-m.y;if(q=Math.sqrt(n*n+p*p)){q=o/(g.distance*g.distance)*(q-b*g.distance)/q;n*=q;p*=q;if(!r.fixed){r.x-=n;r.y-=p}if(!m.fixed){m.x+=n;m.y+=p}}}k.tick.dispatch({type:"tick"});return(o*=0.99)<0.0050}var j={},k=d3.dispatch("tick"),i=[1,1],o=0.5,b=30,e,h,l;j.on=function(a,c){k[a].add(c);return j};j.nodes=function(a){if(!arguments.length)return e;
e=a;return j};j.links=function(a){if(!arguments.length)return h;h=a;return j};j.size=function(a){if(!arguments.length)return i;i=a;return j};j.distance=function(a){if(!arguments.length)return b;b=a;return j};j.start=function(){var a,c,g,m=e.length;g=h.length;var r=i[0],q=i[1],n=[];for(a=0;a<m;++a){c=e[a];c.x=c.x||Math.random()*r;c.y=c.y||Math.random()*q;c.fixed=0;n[a]=[];for(c=0;c<m;++c)n[a][c]=Infinity;n[a][a]=0}for(a=0;a<g;++a){c=h[a];n[c.source][c.target]=1;n[c.target][c.source]=1;c.source=e[c.source];
c.target=e[c.target]}for(g=0;g<m;++g)for(a=0;a<m;++a)for(c=0;c<m;++c)n[a][c]=Math.min(n[a][c],n[a][g]+n[g][c]);l=[];for(a=0;a<m;++a)for(c=a+1;c<m;++c)l.push({source:e[a],target:e[c],distance:n[a][c]*n[a][c]});l.sort(function(p,u){return p.distance-u.distance});d3.timer(f);return j};j.resume=function(){o=0.1;d3.timer(f);return j};j.stop=function(){o=0;return j};j.drag=function(){function a(){if(c){var m=d3.svg.mouse(g);c.x=m[0];c.y=m[1];j.resume()}}var c,g;this.on("mouseover",function(m){m.fixed=true}).on("mouseout",
function(m){if(m!=c)m.fixed=false}).on("mousedown",function(m){(c=m).fixed=true;g=this;d3.event.preventDefault()});d3.select(window).on("mousemove",a).on("mouseup",function(){if(c){a();c.fixed=false;c=g=null}});return j};return j};d3.layout.partition=function(){function f(b,e,h,l){var a=b.children;b.x=e;b.y=b.depth*l;b.dx=h;b.dy=l;if(a){var c=-1,g=a.length,m;for(h/=b.value;++c<g;){f(m=a[c],e,b=m.value*h,l);e+=b}}}function j(b){b=b.children;var e=0;if(b)for(var h=-1,l=b.length;++h<l;)e=Math.max(e,
j(b[h]));return 1+e}function k(b,e){var h=i.call(this,b,e);f(h[0],0,o[0],o[1]/j(h[0]));return h}var i=d3.layout.hierarchy(),o=[1,1];k.sort=d3.rebind(k,i.sort);k.children=d3.rebind(k,i.children);k.value=d3.rebind(k,i.value);k.size=function(b){if(!arguments.length)return o;o=b;return k};return k};d3.layout.pie=function(){function f(b){var e=+(typeof i=="function"?i.apply(this,arguments):i),h=(typeof o=="function"?o.apply(this,arguments):o)-i,l=d3.range(b.length);k!=null&&l.sort(function(g,m){return k(b[g],
b[m])});var a=b.map(j);h/=a.reduce(function(g,m){return g+m},0);var c=l.map(function(g){return{value:d=a[g],startAngle:e,endAngle:e+=d*h}});return b.map(function(g,m){return c[l[m]]})}var j=Number,k=null,i=0,o=2*Math.PI;f.value=function(b){if(!arguments.length)return j;j=b;return f};f.sort=function(b){if(!arguments.length)return k;k=b;return f};f.startAngle=function(b){if(!arguments.length)return i;i=b;return f};f.endAngle=function(b){if(!arguments.length)return o;o=b;return f};return f};d3.layout.stack=
function(){function f(i){var o=i.length,b=i[0].length,e,h,l,a=I[j](i);J[k](i,a);for(h=0;h<b;++h){e=1;for(l=i[a[0]][h].y0;e<o;++e)i[a[e]][h].y0=l+=i[a[e-1]][h].y}return i}var j="default",k="zero";f.order=function(i){if(!arguments.length)return j;j=i;return f};f.offset=function(i){if(!arguments.length)return k;k=i;return f};return f};var I={"inside-out":function(f){var j=f.length,k,i=f.map(C),o=f.map(A),b=d3.range(j).sort(function(c,g){return i[c]-i[g]}),e=0,h=0,l=[],a=[];for(f=0;f<j;f++){k=b[f];if(e<
h){e+=o[k];l.push(k)}else{h+=o[k];a.push(k)}}return a.reverse().concat(l)},reverse:function(f){return d3.range(f.length).reverse()},"default":function(f){return d3.range(f.length)}},J={silhouette:function(f,j){var k=f.length,i=f[0].length,o=[],b=0,e,h,l;for(h=0;h<i;++h){for(l=e=0;e<k;e++)l+=f[e][h].y;if(l>b)b=l;o.push(l)}h=0;for(e=j[0];h<i;++h)f[e][h].y0=(b-o[h])/2},wiggle:function(f,j){var k=f.length,i=f[0],o=i.length,b,e,h,l,a,c=j[0],g,m,r,q,n,p;f[c][0].y0=n=p=0;for(e=1;e<o;++e){for(g=b=0;b<k;++b)g+=
f[b][e].y;m=b=0;for(q=i[e].x-i[e-1].x;b<k;++b){h=0;l=j[b];for(r=(f[l][e].y-f[l][e-1].y)/(2*q);h<b;++h)r+=(f[a=j[h]][e].y-f[a][e-1].y)/q;m+=r*f[l][e].y}f[c][e].y0=n-=g?m/g*q:0;if(n<p)p=n}for(e=0;e<o;++e)f[c][e].y0-=p},zero:function(f,j){for(var k=0,i=f[0].length,o=j[0];k<i;++k)f[o][k].y0=0}};d3.layout.hierarchy=function(){function f(b,e,h){var l=i.call(j,b,e),a={depth:e,data:b};h.push(a);if(l){b=-1;var c=l.length,g=a.children=[],m=0;for(e+=1;++b<c;){d=f(l[b],e,h);if(d.value>0){g.push(d);m+=d.value;
d.parent=a}}k&&g.sort(k);a.value=m}else a.value=o.call(j,b,e);return a}function j(b){var e=[];f(b,0,e);return e}var k=F,i=D,o=E;j.sort=function(b){if(!arguments.length)return k;k=b;return j};j.children=function(b){if(!arguments.length)return i;i=b;return j};j.value=function(b){if(!arguments.length)return o;o=b;return j};return j};d3.layout.treemap=function(){function f(h,l){var a=h.children;h.area=h.value*l;if(a)for(var c=-1,g=a.length;++c<g;)f(a[c],l)}function j(h){if(h.children){var l={x:h.x,y:h.y,
dx:h.dx,dy:h.dy},a=[],c=h.children.slice(),g,m=Infinity,r=Math.min(l.dx,l.dy);for(a.area=0;(g=c.length)>0;){a.push(g=c[g-1]);a.area+=g.area;g=r;for(var q=a.area,n=void 0,p=0,u=Infinity,s=-1,t=a.length;++s<t;){n=a[s].area;if(n<u)u=n;if(n>p)p=n}q*=q;g*=g;if((g=Math.max(g*p/q,q/(g*u)))<=m){c.pop();m=g}else{a.area-=a.pop().area;k(a,r,l,false);r=Math.min(l.dx,l.dy);a.length=a.area=0;m=Infinity}}if(a.length){k(a,r,l,true);a.length=a.area=0}h.children.forEach(j)}}function k(h,l,a,c){var g=-1,m=h.length,
r=a.x,q=a.y,n=l?b(h.area/l):0,p;if(l==a.dx){if(c||n>a.dy)n=a.dy;for(;++g<m;){p=h[g];p.x=r;p.y=q;p.dy=n;r+=p.dx=b(p.area/n)}p.dx+=a.x+a.dx-r;a.y+=n;a.dy-=n}else{if(c||n>a.dx)n=a.dx;for(;++g<m;){p=h[g];p.x=r;p.y=q;p.dx=n;q+=p.dy=b(p.area/n)}p.dy+=a.y+a.dy-q;a.x+=n;a.dx-=n}}function i(h,l){var a=o.call(this,h,l),c=a[0];c.x=0;c.y=0;c.dx=e[0];c.dy=e[1];f(c,e[0]*e[1]/c.value);j(c);return a}var o=d3.layout.hierarchy(),b=Math.round,e=[1,1];i.sort=d3.rebind(i,o.sort);i.children=d3.rebind(i,o.children);i.value=
d3.rebind(i,o.value);i.size=function(h){if(!arguments.length)return e;e=h;return i};i.round=function(h){if(!arguments.length)return b!=Number;b=h?Math.round:Number;return i};return i}})();
