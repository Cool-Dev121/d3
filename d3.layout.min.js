(function(){function z(a){return a.reduce(A,0)}function B(a){for(var h=1,d=0,c=a[0].y,g,e=a.length;h<e;++h)if((g=a[h].y)>c){d=h;c=g}return d}function A(a,h){return a+h.y}d3.layout={};d3.layout.chord=function(){function a(){var i={},m=[],s=d3.range(b),p=[],q,l,v,n,r;c=[];g=[];q=0;for(n=-1;++n<b;){l=0;for(r=-1;++r<b;)l+=e[n][r];m.push(l);p.push(d3.range(b));q+=l}j&&s.sort(function(w,t){return j(m[w],m[t])});k&&p.forEach(function(w,t){w.sort(function(C,D){return k(e[t][C],e[t][D])})});q=(2*Math.PI-f*
b)/q;l=0;for(n=-1;++n<b;){v=l;for(r=-1;++r<b;){var u=s[n],x=p[n][r],y=e[u][x];i[u+"-"+x]={index:u,subindex:x,startAngle:l,endAngle:l+=y*q,value:y}}g.push({index:u,startAngle:v,endAngle:l,value:(l-v)/q});l+=f}for(n=-1;++n<b;)for(r=n-1;++r<b;){s=i[n+"-"+r];p=i[r+"-"+n];if(s.value||p.value)c.push({source:s,target:p})}o&&h()}function h(){c.sort(function(i,m){i=Math.min(i.source.value,i.target.value);m=Math.min(m.source.value,m.target.value);return o(i,m)})}var d={},c,g,e,b,f=0,j,k,o;d.matrix=function(i){if(!arguments.length)return e;
b=(e=i)&&e.length;c=g=null;return d};d.padding=function(i){if(!arguments.length)return f;f=i;c=g=null;return d};d.sortGroups=function(i){if(!arguments.length)return j;j=i;c=g=null;return d};d.sortSubgroups=function(i){if(!arguments.length)return k;k=i;c=null;return d};d.sortChords=function(i){if(!arguments.length)return o;o=i;c&&h();return d};d.chords=function(){c||a();return c};d.groups=function(){g||a();return g};return d};d3.layout.pie=function(){function a(e){var b=+(typeof c=="function"?c.apply(this,
arguments):c),f=(typeof g=="function"?g.apply(this,arguments):g)-c;if(d!=null)e=e.slice().sort(d);var j=e.map(h);f/=j.reduce(function(k,o){return k+o},0);return j.map(function(k){return{value:k,startAngle:b,endAngle:b+=k*f}})}var h=Number,d=null,c=0,g=2*Math.PI;a.value=function(e){if(!arguments.length)return h;h=e;return a};a.sort=function(e){if(!arguments.length)return d;d=e;return a};a.startAngle=function(e){if(!arguments.length)return c;c=e;return a};a.endAngle=function(e){if(!arguments.length)return g;
g=e;return a};return a};d3.layout.stack=function(){function a(c){var g=c.length,e=c[0].length,b,f,j,k=E[h](c);F[d](c,k);for(f=0;f<e;++f){b=1;for(j=c[k[0]][f].y0;b<g;++b)c[k[b]][f].y0=j+=c[k[b-1]][f].y}return c}var h="default",d="zero";a.order=function(c){if(!arguments.length)return h;h=c;return a};a.offset=function(c){if(!arguments.length)return d;d=c;return a};return a};var E={"inside-out":function(a){var h=a.length,d,c=a.map(B),g=a.map(z),e=d3.range(h).sort(function(o,i){return c[o]-c[i]}),b=0,
f=0,j=[],k=[];for(a=0;a<h;a++){d=e[a];if(b<f){b+=g[d];j.push(d)}else{f+=g[d];k.push(d)}}return k.reverse().concat(j)},reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},F={silhouette:function(a,h){var d=a.length,c=a[0].length,g=[],e=0,b,f,j;for(f=0;f<c;++f){for(j=b=0;b<d;b++)j+=a[b][f].y;if(j>e)e=j;g.push(j)}f=0;for(b=h[0];f<c;++f)a[b][f].y0=(e-g[f])/2},wiggle:function(a,h){var d=a.length,c=a[0],g=c.length,e,b,f,j,k,o=h[0],i,m,s,p,q,l;a[o][0].y0=
q=l=0;for(b=1;b<g;++b){for(i=e=0;e<d;++e)i+=a[e][b].y;m=e=0;for(p=c[b].x-c[b-1].x;e<d;++e){f=0;j=h[e];for(s=(a[j][b].y-a[j][b-1].y)/(2*p);f<e;++f)s+=(a[k=h[f]][b].y-a[k][b-1].y)/p;m+=s*a[j][b].y}a[o][b].y0=q-=i?m/i*p:0;if(q<l)l=q}for(b=0;b<g;++b)a[o][b].y0-=l},zero:function(a,h){for(var d=0,c=a[0].length,g=h[0];d<c;++d)a[g][d].y0=0}}})();
