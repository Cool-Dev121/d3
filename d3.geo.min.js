(function(){function v(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+ +2*b+"z"}function u(){return 0}function q(b,d){return d&&d.type in b?b[d.type](d):""}function w(b,d){b.type in y&&y[b.type](b,d)}function z(b,d){for(var h=b.coordinates,e=0,g=h.length;e<g;e++)d.apply(null,h[e])}d3.geo={};d3.geo.albers=function(){function b(a){var c=l*(r*a[0]-j);a=Math.sqrt(p-2*l*Math.sin(r*a[1]))/l;return[g*a*Math.sin(c)+i[0],g*(a*Math.cos(c)-s)+i[1]]}function d(){var a=r*e[0],c=r*e[1],f=
r*h[1],k=Math.sin(a);a=Math.cos(a);j=r*h[0];l=0.5*(k+Math.sin(c));p=a*a+2*l*k;s=Math.sqrt(p-2*l*Math.sin(f))/l;return b}var h=[-98,38],e=[29.5,45.5],g=1E3,i=[480,250],j,l,p,s;b.origin=function(a){if(!arguments.length)return h;h=[+a[0],+a[1]];return d()};b.parallels=function(a){if(!arguments.length)return e;e=[+a[0],+a[1]];return d()};b.scale=function(a){if(!arguments.length)return g;g=+a;return b};b.translate=function(a){if(!arguments.length)return i;i=[+a[0],+a[1]];return b};return d()};d3.geo.albersUsa=
function(){function b(i){var j=i[0],l=i[1];return(l<25?j<-100?e:g:l>50?h:d)(i)}var d=d3.geo.albers(),h=d3.geo.albers().origin([-160,60]).parallels([55,65]),e=d3.geo.albers().origin([-160,20]).parallels([8,18]),g=d3.geo.albers().origin([-60,10]).parallels([8,18]);b.scale=function(i){if(!arguments.length)return d.scale();d.scale(i);h.scale(i*0.6);e.scale(i);g.scale(i*1.5);return b.translate(d.translate())};b.translate=function(i){if(!arguments.length)return d.translate();var j=d.scale()/1E3,l=i[0],
p=i[1];d.translate(i);h.translate([l-400*j,p+170*j]);e.translate([l-190*j,p+200*j]);g.translate([l+580*j,p+430*j]);return b};return b.scale(d.scale())};var r=Math.PI/180;d3.geo.mercator=function(){function b(e){return[d*(e[0]/360)+h[0],d*Math.max(-0.5,Math.min(0.5,-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360))/360))+h[1]]}var d=500,h=[480,250];b.scale=function(e){if(!arguments.length)return d;d=+e;return b};b.translate=function(e){if(!arguments.length)return h;h=[+e[0],+e[1]];return b};
return b};d3.geo.stereographic=function(){function b(g){var i=1-e*g[1]/90;g=g[0]*r;if(i<0)i=0;else if(i>1)i=1;return[d*i*Math.cos(g)+h[0],d*i*Math.sin(g)+h[1]]}var d=200,h=[480,250],e=1;b.hemisphere=function(g){if(!arguments.length)return e;e=+g;return b};b.scale=function(g){if(!arguments.length)return d;d=+g;return b};b.translate=function(g){if(!arguments.length)return h;h=[+g[0],+g[1]];return b};return b};d3.geo.path=function(){function b(a){if(typeof g=="function")i=v(g.apply(this,arguments));
return q(l,a)}function d(a){return j(a).join(",")}function h(a){for(var c=Math.abs(d3.geom.polygon(a[0].map(j)).area()),f=0,k=a.length;++f<k;)c-=Math.abs(d3.geom.polygon(a[f].map(j)).area());return c}function e(a){for(var c=d3.geom.polygon(a[0].map(j)),f=c.centroid(1),k=f[0],m=f[1],n=Math.abs(c.area()),o=0,t=a.length;++o<t;){c=d3.geom.polygon(a[o].map(j));f=c.centroid(1);k-=f[0];m-=f[1];n-=Math.abs(c.area())}return[k,m,6*n]}var g=4.5,i=v(g),j=d3.geo.albersUsa(),l={FeatureCollection:function(a){var c=
[];a=a.features;for(var f=-1,k=a.length;++f<k;)c.push(q(l,a[f].geometry));return c.join("")},Feature:function(a){return q(l,a.geometry)},Point:function(a){return"M"+d(a.coordinates)+i},MultiPoint:function(a){var c=[];a=a.coordinates;for(var f=-1,k=a.length;++f<k;)c.push("M",d(a[f]),i);return c.join("")},LineString:function(a){var c=["M"];a=a.coordinates;for(var f=-1,k=a.length;++f<k;)c.push(d(a[f]),"L");c.pop();return c.join("")},MultiLineString:function(a){var c=[];a=a.coordinates;for(var f=-1,k=
a.length,m,n,o;++f<k;){m=a[f];n=-1;o=m.length;for(c.push("M");++n<o;)c.push(d(m[n]),"L");c.pop()}return c.join("")},Polygon:function(a){var c=[];a=a.coordinates;for(var f=-1,k=a.length,m,n,o;++f<k;){m=a[f];n=-1;o=m.length;for(c.push("M");++n<o;)c.push(d(m[n]),"L");c[c.length-1]="Z"}return c.join("")},MultiPolygon:function(a){var c=[];a=a.coordinates;for(var f=-1,k=a.length,m,n,o,t,x,A;++f<k;){m=a[f];n=-1;for(o=m.length;++n<o;){t=m[n];x=-1;A=t.length-1;for(c.push("M");++x<A;)c.push(d(t[x]),"L");c[c.length-
1]="Z"}}return c.join("")},GeometryCollection:function(a){var c=[];a=a.geometries;for(var f=-1,k=a.length;++f<k;)c.push(q(l,a[f]));return c.join("")}},p={FeatureCollection:function(a){var c=0;a=a.features;for(var f=-1,k=a.length;++f<k;)c+=q(p,a[f]);return c},Feature:function(a){return q(p,a.geometry)},Point:u,MultiPoint:u,LineString:u,MultiLineString:u,Polygon:function(a){return h(a.coordinates)},MultiPolygon:function(a){var c=0;a=a.coordinates;for(var f=-1,k=a.length;++f<k;)c+=h(a[f]);return c},
GeometryCollection:function(a){var c=0;a=a.geometries;for(var f=-1,k=a.length;++f<k;)c+=q(p,a[f]);return c}},s={Feature:function(a){return q(s,a.geometry)},Polygon:function(a){a=e(a.coordinates);return[a[0]/a[2],a[1]/a[2]]},MultiPolygon:function(a){a=a.coordinates;for(var c,f=0,k=0,m=0,n=-1,o=a.length;++n<o;){c=e(a[n]);f+=c[0];k+=c[1];m+=c[2]}return[f/m,k/m]}};b.projection=function(a){j=a;return b};b.area=function(a){return q(p,a)};b.centroid=function(a){return q(s,a)};b.pointRadius=function(a){if(typeof a==
"function")g=a;else{g=+a;i=v(g)}return b};return b};d3.geo.bounds=function(b){var d=Infinity,h=Infinity,e=-Infinity,g=-Infinity;w(b,function(i,j){if(i<d)d=i;if(i>e)e=i;if(j<h)h=j;if(j>g)g=j});return[[d,h],[e,g]]};var y={Feature:function(b,d){w(b.geometry,d)},FeatureCollection:function(b,d){for(var h=b.features,e=0,g=h.length;e<g;e++)w(h[e].geometry,d)},LineString:z,MultiLineString:function(b,d){for(var h=b.coordinates,e=0,g=h.length;e<g;e++)for(var i=h[e],j=0,l=i.length;j<l;j++)d.apply(null,i[j])},
MultiPoint:z,MultiPolygon:function(b,d){for(var h=b.coordinates,e=0,g=h.length;e<g;e++)for(var i=h[e][0],j=0,l=i.length;j<l;j++)d.apply(null,i[j])},Point:function(b,d){d.apply(null,b.coordinates)},Polygon:function(b,d){for(var h=b.coordinates[0],e=0,g=h.length;e<g;e++)d.apply(null,h[e])}}})();
