(function(){d3.geom={};d3.geom.polygon=function(a){a.area=function(){for(var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];++b<c;){d+=a[b-1][0]*a[b][1];e+=a[b-1][1]*a[b][0]}return(e-d)*0.5};a.clip=function(b){for(var c,d=-1,e=a.length,f,k,g=a[e-1],h,i,j;++d<e;){c=b.slice();b.length=0;h=a[d];i=c[(k=c.length)-1];for(f=-1;++f<k;){j=c[f];if(l(j,g,h)){l(i,g,h)||b.push(m(i,j,g,h));b.push(j)}else l(i,g,h)&&b.push(m(i,j,g,h));i=j}g=h}return b};return a};
function l(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function m(a,b,c,d){var e=a[0],f=c[0];a=a[1];var k=c[1];c=b[0]-e;var g=d[0]-f;b=b[1]-a;d=d[1]-k;f=(g*(a-k)-d*(e-f))/(d*c-g*b);return[e+f*c,a+f*b]};})()
