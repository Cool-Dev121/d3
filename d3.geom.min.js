(function(){var s=null;d3.geom={};
d3.geom.hull=function(c){if(c.length<3)return[];var h=c.length,f=h-1,a=[],i=[],b,j=0,m,k,o,p,x,n,v;for(b=1;b<h;++b)if(c[b][1]<c[j][1])j=b;else if(c[b][1]==c[j][1])j=c[b][0]<c[j][0]?b:j;for(b=0;b<h;++b)if(b!=j){k=c[b][1]-c[j][1];m=c[b][0]-c[j][0];a.push({a:Math.atan2(k,m),index:b})}a.sort(function(r,y){return r.a-y.a});v=a[0].a;n=a[0].index;x=0;for(b=1;b<f;++b){h=a[b].index;if(v==a[b].a){m=c[n][0]-c[j][0];k=c[n][1]-c[j][1];o=c[h][0]-c[j][0];p=c[h][1]-c[j][1];if(m*m+k*k>=o*o+p*p)a[b].index=-1;else{a[x].index=
-1;v=a[b].a;x=b;n=h}}else{v=a[b].a;x=b;n=h}}i.push(j);for(h=b=0;b<2;++h)if(a[h].index!=-1){i.push(a[h].index);b++}for(j=i.length;h<f;++h)if(a[h].index!=-1){for(;!A(i[j-2],i[j-1],a[h].index,c);)--j;i[j++]=a[h].index}f=[];for(b=0;b<j;++b)f.push(c[i[b]]);return f};function A(c,h,f,a){var i,b,j;c=a[c];i=c[0];b=c[1];c=a[h];h=c[0];j=c[1];c=a[f];return(c[1]-b)*(h-i)-(j-b)*(c[0]-i)>0}
d3.geom.polygon=function(c){c.area=function(){for(var h=0,f=c.length,a=c[f-1][0]*c[0][1],i=c[f-1][1]*c[0][0];++h<f;){a+=c[h-1][0]*c[h][1];i+=c[h-1][1]*c[h][0]}return(i-a)*0.5};c.clip=function(h){for(var f,a=-1,i=c.length,b,j,m=c[i-1],k,o,p;++a<i;){f=h.slice();h.length=0;k=c[a];o=f[(j=f.length)-1];for(b=-1;++b<j;){p=f[b];if(B(p,m,k)){B(o,m,k)||h.push(C(o,p,m,k));h.push(p)}else B(o,m,k)&&h.push(C(o,p,m,k));o=p}m=k}return h};return c};
function B(c,h,f){return(f[0]-h[0])*(c[1]-h[1])<(f[1]-h[1])*(c[0]-h[0])}function C(c,h,f,a){var i=c[0],b=f[0];c=c[1];var j=f[1];f=h[0]-i;var m=a[0]-b;h=h[1]-c;a=a[1]-j;b=(m*(c-j)-a*(i-b))/(a*f-m*h);return[i+b*f,c+b*h]}
d3.geom.voronoi=function(c){var h=c.map(function(){return[]});D(c,function(f){var a,i,b,j;if(f.i==1&&f.b>=0){a=f.o.r;i=f.o.l}else{a=f.o.l;i=f.o.r}if(f.i==1){b=a?a.y:-1E6;a=f.c-f.b*b;j=i?i.y:1E6;i=f.c-f.b*j}else{a=a?a.x:-1E6;b=f.c-f.i*a;i=i?i.x:1E6;j=f.c-f.i*i}a=[a,b];i=[i,j];h[f.region.l.index].push(a,i);h[f.region.r.index].push(a,i)});return h.map(function(f,a){var i=c[a][0],b=c[a][1];f.forEach(function(j){j.a=Math.atan2(j[0]-i,j[1]-b)});return f.sort(function(j,m){return j.a-m.a}).filter(function(j,
m){return!m||j.a-f[m-1].a>1.0E-10})})};var E={l:"r",r:"l"};
function D(c,h){var f={d:c.map(function(d,g){return{index:g,x:d[0],y:d[1]}}).sort(function(d,g){return d.y<g.y?-1:d.y>g.y?1:d.x<g.x?-1:d.x>g.x?1:0}),A:s},a={d:[],p:s,q:s,G:function(){a.p=a.t(s,"l");a.q=a.t(s,"l");a.p.r=a.q;a.q.l=a.p;a.d.unshift(a.p,a.q)},t:function(d,g){return{j:d,k:g,z:s,l:s,r:s}},m:function(d,g){g.l=d;g.r=d.r;d.r.l=g;d.r=g},H:function(d){var g=a.p;do g=g.r;while(g!=a.q&&i.J(g,d));return g=g.l},n:function(d){d.l.r=d.r;d.r.l=d.l;d.j=s},right:function(d){return d.r},left:function(d){return d.l},
I:function(d){return d.j==s?f.A:d.j.region[d.k]},D:function(d){return d.j==s?f.A:d.j.region[E[d.k]]}},i={C:function(d,g){var e={region:{l:d,r:g},o:{l:s,r:s}},l=g.x-d.x,q=g.y-d.y,u=l>0?l:-l,t=q>0?q:-q;e.c=d.x*l+d.y*q+(l*l+q*q)*0.5;if(u>t){e.i=1;e.b=q/l;e.c/=l}else{e.b=1;e.i=l/q;e.c/=q}return e},w:function(d,g){var e=d.j,l=g.j;if(!e||!l||e.region.r==l.region.r)return s;var q=e.i*l.b-e.b*l.i;if(Math.abs(q)<1.0E-10)return s;var u=(e.c*l.b-l.c*e.b)/q;q=(l.c*e.i-e.c*l.i)/q;var t=e.region.r,z=l.region.r;
if(t.y<z.y||t.y==z.y&&t.x<z.x){t=d;e=e}else{t=g;e=l}if((e=u>=e.region.r.x)&&t.k=="l"||!e&&t.k=="r")return s;return{x:u,y:q}},J:function(d,g){var e=d.j,l=e.region.r,q=g.x>l.x;if(q&&d.k=="l")return 1;if(!q&&d.k=="r")return 0;if(e.i==1){var u=g.y-l.y,t=g.x-l.x,z=0,w=0;if(!q&&e.b<0||q&&e.b>=0)w=z=u>=e.b*t;else{w=g.x+g.y*e.b>e.c;if(e.b<0)w=!w;w||(z=1)}if(!z){l=l.x-e.region.l.x;w=e.b*(t*t-u*u)<l*u*(1+2*t/l+e.b*e.b);if(e.b<0)w=!w}}else{t=e.c-e.i*g.x;e=g.y-t;u=g.x-l.x;l=t-l.y;w=e*e>u*u+l*l}return d.k=="l"?
w:!w},B:function(d,g,e){d.o[g]=e;d.o[E[g]]&&h(d)},v:function(d,g){var e=d.x-g.x,l=d.y-g.y;return Math.sqrt(e*e+l*l)}},b={d:[],m:function(d,g,e){d.z=g;d.u=g.y+e;e=0;for(var l=b.d,q=l.length;e<q;e++){var u=l[e];if(!(d.u>u.u||d.u==u.u&&g.x>u.z.x))break}l.splice(e,0,d)},n:function(d){for(var g=0,e=b.d,l=e.length;g<l&&e[g]!=d;++g);e.splice(g,1)},empty:function(){return b.d.length==0},K:function(d){for(var g=0,e=b.d,l=e.length;g<l;++g)if(e[g]==d)return e[g+1];return s},min:function(){var d=b.d[0];return{x:d.z.x,
y:d.u}},F:function(){return b.d.shift()}};a.G();f.A=f.d.shift();for(var j=f.d.shift(),m,k,o,p,x,n,v,r,y;;){b.empty()||(m=b.min());if(j&&(b.empty()||j.y<m.y||j.y==m.y&&j.x<m.x)){k=a.H(j);o=a.right(k);v=a.D(k);y=i.C(v,j);n=a.t(y,"l");a.m(k,n);if(r=i.w(k,n)){b.n(k);b.m(k,r,i.v(r,j))}k=n;n=a.t(y,"r");a.m(k,n);(r=i.w(n,o))&&b.m(n,r,i.v(r,j));j=f.d.shift()}else if(b.empty())break;else{k=b.F();p=a.left(k);o=a.right(k);x=a.right(o);v=a.I(k);n=a.D(o);r=k.z;i.B(k.j,k.k,r);i.B(o.j,o.k,r);a.n(k);b.n(o);a.n(o);
k="l";if(v.y>n.y){k=v;v=n;n=k;k="r"}y=i.C(v,n);n=a.t(y,k);a.m(p,n);i.B(y,E[k],r);if(r=i.w(p,n)){b.n(p);b.m(p,r,i.v(r,v))}(r=i.w(n,x))&&b.m(n,r,i.v(r,v))}}for(k=a.right(a.p);k!=a.q;k=a.right(k))h(k.j)}
d3.geom.delaunay=function(c){var h=c.map(function(){return[]}),f=[];D(c,function(a){h[a.region.l.index].push(c[a.region.r.index])});h.forEach(function(a,i){var b=c[i],j=b[0],m=b[1];a.forEach(function(p){p.a=Math.atan2(p[0]-j,p[1]-m)});a.sort(function(p,x){return p.a-x.a});for(var k=0,o=a.length-1;k<o;k++)f.push([b,a[k],a[k+1]])});return f};})()
