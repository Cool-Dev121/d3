(function(){d3.geom={};d3.geom.polygon=function(a){var c=a.length;a.area=function(){for(var b=0,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];++b<c;){d+=a[b-1][0]*a[b][1];e+=a[b-1][1]*a[b][0]}return(d-e)*0.5};a.intersection=function(b){b=b;for(var d,e=-1,f,k,g=a[c-1],h,i,j;++e<c;){d=b.slice();b=[];h=a[e];i=d[(k=d.length)-1];for(f=-1;++f<k;){j=d[f];if(l(j,g,h)){l(i,g,h)||b.push(m(i,j,g,h));b.push(j)}else l(i,g,h)&&b.push(m(i,j,g,h));i=j}g=h}return b};return a};
function l(a,c,b){return(b[0]-c[0])*(a[1]-c[1])>=(b[1]-c[1])*(a[0]-c[0])}function m(a,c,b,d){var e=a[0],f=b[0];a=a[1];var k=b[1];b=c[0]-e;var g=d[0]-f;c=c[1]-a;d=d[1]-k;f=(g*(a-k)-d*(e-f))/(d*b-g*c);return[e+f*b,a+f*c]};})()
