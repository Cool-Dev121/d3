if(!Date.now)Date.now=function(){return+new Date};if(!Object.create)Object.create=function(D){function y(){}y.prototype=D;return new y};
(function(D){function y(a){return function(g){return 1-a(1-g)}}function N(a){return function(g){return 0.5*(g<0.5?a(2*g):2-a(2-2*g))}}function U(a){return a}function E(a){return function(g){return Math.pow(g,a)}}function V(a){return 1-Math.cos(a*Math.PI/2)}function W(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function X(a){return 1-Math.sqrt(1-a*a)}function Y(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}
function F(a){var g,e,f,d,c;if(d=/([a-z]+)\((.*)\)/i.exec(a)){c=d[2].split(",");switch(d[1]){case "hsl":return Z(parseFloat(c[0]),parseFloat(c[1])/100,parseFloat(c[2])/100);case "rgb":return{r:G(c[0]),g:G(c[1]),b:G(c[2])}}}if(d=z[a])return d;if(a==null)return z.black;if(a.charAt(0)=="#"){if(a.length==4){g=a.charAt(1);g+=g;e=a.charAt(2);e+=e;f=a.charAt(3);f+=f}else if(a.length==7){g=a.substring(1,3);e=a.substring(3,5);f=a.substring(5,7)}g=parseInt(g,16);e=parseInt(e,16);f=parseInt(f,16)}return{r:g,
g:e,b:f}}function Z(a,g,e){function f(b){if(b>360)b-=360;else if(b<0)b+=360;if(b<60)return d+(c-d)*b/60;if(b<180)return c;if(b<240)return d+(c-d)*(240-b)/60;return d}var d,c;a%=360;if(a<0)a+=360;g=g<0?0:g>1?1:g;e=e<0?0:e>1?1:e;c=e<=0.5?e*(1+g):e+g-e*g;d=2*e-c;return{r:Math.round(f(a+120)*255),g:Math.round(f(a)*255),b:Math.round(f(a-120)*255)}}function G(a){var g=parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(g*2.55):g}function O(){function a(f,d){var c=Object.create(g);c.pop=f;c.data=function(b){var h,
i={impl:P,bind:$,value:b,actions:[],enterActions:[],exitActions:[]};d.push(i);h=a(c,i.actions);h.enter=a(c,i.enterActions);h.exit=a(c,i.exitActions);h.key=function(j,n){i.key={name:A.qualify(j),value:n};return h};return h};c.attr=function(b,h){d.push({impl:aa,bind:ba,name:A.qualify(b),value:h});return c};c.style=function(b,h,i){d.push({impl:ca,bind:da,name:b,value:h,priority:arguments.length<3?null:i});return c};c.add=function(b,h){var i={impl:ea,name:A.qualify(b),value:h,actions:[]};d.push(i);return a(c,
i.actions)};c.remove=function(b){d.push({impl:fa,selector:b});return c};c.text=function(b){d.push({impl:ga,value:b});return c};c.on=function(b){b={impl:ha,type:b,actions:[]};d.push(b);return a(c,b.actions)};c.filter=function(b){b={impl:Q,bind:Q,filter:b,actions:[]};d.push(b);return a(c,b.actions)};c.select=function(b){b={impl:H,bind:ia,selector:b,actions:[]};d.push(b);return a(c,b.actions)};c.selectAll=function(b){b={impl:I,bind:ja,selector:b,actions:[]};d.push(b);return a(c,b.actions)};c.transition=
function(){var b,h={impl:ka,actions:[],endActions:[],ease:l.ease("cubic-in-out"),delay:0,duration:250};d.push(h);b=a(c,h.actions);b.end=a(c,h.endActions);b.ease=function(i){h.ease=typeof i=="string"?l.ease(i):i;return b};b.delay=function(i){h.delay=i;return b};b.duration=function(i){h.duration=i;return b};return b};return c}var g={},e=[];g.select=function(f){f={impl:H,selector:f,actions:[]};e.push(f);return a(g,f.actions)};g.selectAll=function(f){f={impl:I,selector:f,actions:[]};e.push(f);return a(g,
f.actions)};g.apply=function(){k.unshift(null);u(e,[{node:document,index:0}]);k.shift();return g};return g}function u(a,g){var e=a.length,f;for(f=0;f<e;++f)a[f].impl(g,u)}function ea(a,g){var e=a.length,f=this.name,d=[],c,b,h;if(f.local)for(c=0;c<e;++c){d.push(h=Object.create(b=a[c]));h.node=(h.parent=b).node.appendChild(document.createElementNS(f.space,f.local))}else for(c=0;c<e;++c){d.push(h=Object.create(b=a[c]));h.node=(h.parent=b).node.appendChild(document.createElement(f))}g(this.actions,d)}
function aa(a){var g=a.length,e=this.name,f=this.value,d,c,b;if(e.local)if(f==null)for(d=0;d<g;++d)a[d].node.removeAttributeNS(e.space,e.local);else if(typeof f=="function")for(d=0;d<g;++d){k[0]=(c=a[d]).data;b=f.apply(c,k);b==null?c.node.removeAttributeNS(e.space,e.local):c.node.setAttributeNS(e.space,e.local,b)}else for(d=0;d<g;++d)a[d].node.setAttributeNS(e.space,e.local,f);else if(f==null)for(d=0;d<g;++d)a[d].node.removeAttribute(e);else if(typeof f=="function")for(d=0;d<g;++d){k[0]=(c=a[d]).data;
b=f.apply(c,k);b==null?c.node.removeAttribute(e):c.node.setAttribute(e,b)}else for(d=0;d<g;++d)a[d].node.setAttribute(e,f)}function ba(a){var g=a.length,e=this.name,f=this.bound||(this.bound=this.value),d="attr."+(e.local?e.space+":"+e.local:e),c,b;if(f&&f.bind){if(e.local)for(c=0;c<g;++c){(b=a[c]).value=b.node.getAttributeNS(e.space,e.local);b.name=e.space+":"+e.local;k[0]=b.data;b[d]=f.bind.apply(b,k);delete b.value;delete b.name}else for(c=0;c<g;++c){(b=a[c]).value=b.node.getAttribute(e);b.name=
e;k[0]=b.data;b[d]=f.bind.apply(b,k);delete b.value;delete b.name}this.value=function(){return this[d].apply(this,arguments)}}}function P(a,g){var e=this.value,f=a.length,d,c=this.key,b,h,i,j,n=[],o=[],v=[],p,s,m;if(typeof e=="function"){b=k.shift();e=e.apply(null,k);k.unshift(b)}d=e.length;if(c){b=c.name;h=c.value;p={};s={};m={};if(b.local)for(c=0;c<f;++c){if(j=a[c].node){i=j.getAttributeNS(b.space,b.local);if(i!=null)p[i]=j}}else for(c=0;c<f;++c)if(j=a[c].node){i=j.getAttribute(b);if(i!=null)p[i]=
j}for(c=0;c<d;++c){k[0]=b=e[c];i=h.apply(null,k);if(i!=null){s[i]=b;m[i]=c}}for(i in s){b=s[i];c=m[i];(j=p[i])?o.push({node:j,data:b,key:i,index:c}):n.push({node:a.parent.node,data:b,key:i,index:c})}for(i in p)i in s||v.push({node:p[i]})}else{i=d<f?d:f;for(c=0;c<i;++c){(j=a[c]).data=e[c];if(j.node)o.push(j);else{j.node=j.parent.node;n.push(j)}}for(i=c;i<d;++i)n.push({node:a.parent.node,data:e[i],index:i});for(i=c;i<f;++i)v.push(a[i])}g(this.enterActions,n);g(this.actions,o);g(this.exitActions,v)}
function $(a,g){var e=a.length,f=this.bound||(this.bound=this.value),d,c,b;if(f&&f.bind){d=[];for(c=0;c<e;++c){k[0]=(b=a[c]).data;b.value=b.data;b.data_=f.bind.apply(b,k);delete b.value}this.value=function(){k.unshift(null);for(c=0;c<e;++c){k[0]=(b=a[c]).data;d[c]=b.data_.apply(b,k)}k.shift();return d}}else P.call(this,a,g)}function fa(a){var g=a.length,e=this.selector,f,d,c,b,h;if(e==null)for(d=0;d<g;++d){h=a[d].node;h.parentNode.removeChild(h)}else for(d=0;d<g;++d){f=a[d].node.querySelectorAll(e);
c=0;for(b=f.length;c<b;c++){h=f[c];h.parentNode.removeChild(h)}}}function ha(a){function g(j){return function(n){var o=k;try{k=i;l.event=n;for(b=0;b<f;++b)e[b].impl(j,u)}finally{delete l.event;k=o}}}var e=this.actions,f=e.length,d=a.length,c="on"+this.type,b=0,h,i=k.slice();if(f)for(;b<d;++b){h=a[b];h.node[c]=g([h])}else for(;b<d;++b)a[b].node[c]=null}function Q(a,g){var e=[],f=a.length,d=this.filter,c,b;for(c=0;c<f;++c){k[0]=(b=a[c]).data;d.apply(b,k)&&e.push(b)}g(this.actions,e)}function H(a,g){var e=
[],f=a.length,d=this.selector,c,b,h,i;for(c=0;c<f;++c){i=(b=a[c]).node.querySelector(d);e.push(h=Object.create(b));h.parent=b;h.node=i}g(this.actions,e)}function ia(a,g){var e=this;H.call(this,a,function(f,d){g(f,d);e.impl=function(c,b){b(f,d)}})}function I(a,g){var e=a.length,f=this.selector,d,c;k.unshift(null);for(d=0;d<e;++d){k[1]=(c=a[d]).data;var b=g,h=this.actions,i=c.node.querySelectorAll(f),j=[],n=0,o=i.length;for(j.parent=c;n<o;n++)j.push({node:i[n],index:n});b(h,j)}k.shift()}function ja(a,
g){var e=a.length,f,d;I.call(this,a,function(c,b){g(c,b.parent.selectAll=b)});this.impl=function(c,b){k.unshift(null);f=0;for(e=c.length;f<e;++f){k[1]=(d=c[f]).data;b(this.actions,d.selectAll)}k.shift()}}function ca(a){var g=a.length,e=this.name,f=this.value,d=this.priority,c,b,h;if(f==null)for(c=0;c<g;++c)a[c].node.style.removeProperty(e);else if(typeof f=="function")for(c=0;c<g;++c){b=a[c];k[0]=b.data;h=f.apply(b,k);h==null?b.node.style.removeProperty(e):b.node.style.setProperty(e,h,d)}else for(c=
0;c<g;++c)a[c].node.style.setProperty(e,f,d)}function da(a){var g=a.length,e=this.name,f=this.bound||(this.bound=this.value),d="style."+e,c,b;if(f&&f.bind){for(c=0;c<g;++c){(b=a[c]).value=b.node.style.getPropertyValue(e);b.name=e;k[0]=b.data;b[d]=f.bind.apply(b,k);delete b.value;delete b.name}this.value=function(){return this[d].apply(this,arguments)}}}function ga(a){var g=a.length,e=this.value,f,d,c;if(typeof e=="function")for(f=0;f<g;++f){d=a[f];k[0]=d.data;c=e.apply(d,k);for(d=d.node;d.lastChild;)d.removeChild(d.lastChild);
d.appendChild(document.createTextNode(c))}else for(f=0;f<g;++f){for(d=a[f].node;d.lastChild;)d.removeChild(d.lastChild);d.appendChild(document.createTextNode(e))}}function ka(a){function g(w){var q=k;for(m=0;m<s;++m)(r=a[m]).node.interval=w;try{l.time=0;k=B;R(d,a)}finally{delete l.time;k=q}}function e(){var w=k,q=a.filter(function(la){return la.node.interval==o}),C=q.length,J=Date.now(),x,S=true;try{k=B;for(m=0;m<C;++m){r=q[m];x=(J-b-r.delay)/j;if(!(x<0)){if(x>1)x=1;else S=false;l.time=n(x);for(t=
0;t<v;++t)d[t].impl([r],u);if(x==1){for(t=0;t<p;++t)c[t].impl([r],u);r.delay=Infinity}}}}finally{delete l.time;k=w}S&&clearInterval(o)}function f(){var w=k,q=(Date.now()-b-h)/j,C=a.filter(function(J){return J.node.interval==o});try{k=B;l.time=n(q<0?0:q>1?1:q);for(m=0;m<v;++m)d[m].impl(C,u)}finally{delete l.time;k=w}if(q>=1){clearInterval(o);try{k=B;for(m=0;m<p;++m)c[m].impl(C,u)}finally{k=w}}}var d=this.actions,c=this.endActions,b=Date.now(),h=this.delay,i=Infinity,j=this.duration,n=this.ease,o,v=
d.length,p=c.length,s=a.length,m,t,r,K,B=k.slice();if(typeof h=="function"){for(m=0;m<s;++m){k[0]=(r=a[m]).data;K=r.delay=h.apply(r,k);if(K<i)i=K}setTimeout(function(){g(o=setInterval(e,24))},i)}else setTimeout(function(){g(o=setInterval(f,24))},h)}function R(a,g){var e=a.length,f,d;for(d=0;d<e;++d){f=a[d];f.bind&&f.bind(g,R)}}var l=D.d3={};l.version="0.0.0";var A={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return A.prefix[a]||null},qualify:function(a){var g=a.indexOf(":");return g<0?a:{space:A.prefix[a.substring(0,g)],local:a.substring(g+1)}}};l.dispatch=function(a){var g={};a.on=function(e,f){for(var d=g[e]||(g[e]=[]),c=0;c<d.length;c++)if(d[c].handler==f)return a;d.push({handler:f,on:true});return a};a.off=function(e,f){var d=g[e];if(d)for(var c=0;c<d.length;c++){var b=d[c];if(b.handler==f){b.on=false;d.splice(c,1);break}}return a};a.dispatch=
function(e){var f=g[e.type];if(f){f=f.slice();for(var d=0;d<f.length;d++){var c=f[d];c.on&&c.handler.call(a,e)}}};return a};var ma=E(2),na=E(3),oa={linear:function(){return U},poly:E,quad:function(){return ma},cubic:function(){return na},sin:function(){return V},exp:function(){return W},circle:function(){return X},elastic:function(a,g){var e;if(arguments.length<2)g=0.45;if(arguments.length<1){a=1;e=g/4}else e=g/(2*Math.PI)*Math.asin(1/a);return function(f){return 1+a*Math.pow(2,10*-f)*Math.sin(-(f+
e)*2*Math.PI/g)}},back:function(a){a||(a=1.70158);return function(g){return g*g*((a+1)*g-a)}},bounce:function(){return Y}},pa={"in":function(a){return a},out:y,"in-out":N,"out-int":function(a){return N(y(a))}};l.ease=function(a){var g=a.indexOf("-"),e=g>=0?a.substring(0,g):a;g=g>=0?a.substring(g+1):"in";return pa[g](oa[e].apply(null,Array.prototype.slice.call(arguments,1)))};l.interpolate=function(a,g){if(typeof g=="number")return l.interpolateNumber(+a,g);if(typeof g=="string")return l.interpolateString(String(a),
g);if(g instanceof Array)return l.interpolateArray(a,g);return l.interpolateObject(a,g)};l.interpolateNumber=function(a,g){g-=a;return function(e){return a+g*e}};l.interpolateString=function(a,g){var e,f,d=0,c=0,b=[],h=[],i,j;for(f=0;e=L.exec(g);++f){if(e.index)b.push(g.substring(d,c=e.index));h.push({i:b.length,x:e[0]});b.push(null);d=L.lastIndex}d<g.length&&b.push(g.substring(d));f=0;for(i=h.length;(e=L.exec(a))&&f<i;++f){j=h[f];if(j.x==e[0]){if(j.i)if(b[j.i+1]==null){b[j.i-1]+=j.x;b.splice(j.i,
1);for(e=f+1;e<i;++e)h[e].i--}else{b[j.i-1]+=j.x+b[j.i+1];b.splice(j.i,2);for(e=f+1;e<i;++e)h[e].i-=2}else if(b[j.i+1]==null)b[j.i]=j.x;else{b[j.i]=j.x+b[j.i+1];b.splice(j.i+1,1);for(e=f+1;e<i;++e)h[e].i--}h.splice(f,1);i--;f--}else j.x=l.interpolateNumber(parseFloat(e[0]),parseFloat(j.x))}for(;f<i;){j=h.pop();if(b[j.i+1]==null)b[j.i]=j.x;else{b[j.i]=j.x+b[j.i+1];b.splice(j.i+1,1)}i--}if(b.length==1)return b[0]==null?h[0].x:function(){return g};return function(n){for(f=0;f<i;++f)b[(j=h[f]).i]=j.x(n);
return b.join("")}};l.interpolateRgb=function(a,g){a=F(a);g=F(g);var e=a.r,f=a.g,d=a.b,c=g.r-e,b=g.g-f,h=g.b-d;return function(i){return"rgb("+Math.round(e+c*i)+","+Math.round(f+b*i)+","+Math.round(d+h*i)+")"}};l.interpolateArray=function(a,g){var e=[],f=[],d=a.length,c=g.length,b=Math.min(a.length,g.length),h;for(h=0;h<b;++h)e.push(l.interpolate(a[h],g[h]));for(;h<d;++h)f[h]=a[h];for(;h<c;++h)f[h]=g[h];return function(i){for(h=0;h<b;++h)f[h]=e[h](i);return f}};l.interpolateObject=function(a,g){var e=
{},f={},d;for(d in a)if(d in g)e[d]=(d in M||/\bcolor\b/.test(d)?l.interpolateRgb:l.interpolate)(a[d],g[d]);else f[d]=a[d];for(d in g)d in a||(f[d]=g[d]);return function(c){for(d in e)f[d]=e[d](c);return f}};var L=/[-+]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][-]?\d+)?/g,M={background:1,fill:1,stroke:1};l.tween=function(a){return{bind:typeof a=="function"?function(){var g=this.value,e=this.name,f=a.apply(this,arguments),d=(e in M||/\bcolor\b/.test(e)?l.interpolateRgb:l.interpolate)(g,f);return function(){return d(l.time)}}:
function(){var g=this.value,e=this.name,f=(e in M||/\bcolor\b/.test(e)?l.interpolateRgb:l.interpolate)(g,a);return function(){return f(l.time)}}}};var z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",
dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",
mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",
rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
for(var T in z)z[T]=F(z[T]);var k=[];l.select=function(a){return O().select(a)};l.selectAll=function(a){return O().selectAll(a)}})(this);
