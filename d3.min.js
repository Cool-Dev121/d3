if(!Date.now)Date.now=function(){return+new Date};if(!Object.create)Object.create=function(D){function y(){}y.prototype=D;return new y};
(function(D){function y(a){return function(g){return 1-a(1-g)}}function O(a){return function(g){return 0.5*(g<0.5?a(2*g):2-a(2-2*g))}}function V(a){return a}function E(a){return function(g){return Math.pow(g,a)}}function W(a){return 1-Math.cos(a*Math.PI/2)}function X(a){return a?Math.pow(2,10*(a-1))-0.0010:0}function Y(a){return 1-Math.sqrt(1-a*a)}function Z(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}
function F(a){var g,e,f,d,b;if(d=/([a-z]+)\((.*)\)/i.exec(a)){b=d[2].split(",");switch(d[1]){case "hsl":return P(parseFloat(b[0]),parseFloat(b[1])/100,parseFloat(b[2])/100);case "rgb":return{r:G(b[0]),g:G(b[1]),b:G(b[2])}}}if(d=z[a])return d;if(a==null)return z.black;if(a.charAt(0)=="#"){if(a.length==4){g=a.charAt(1);g+=g;e=a.charAt(2);e+=e;f=a.charAt(3);f+=f}else if(a.length==7){g=a.substring(1,3);e=a.substring(3,5);f=a.substring(5,7)}g=parseInt(g,16);e=parseInt(e,16);f=parseInt(f,16)}return{r:g,
g:e,b:f}}function P(a,g,e){function f(c){if(c>360)c-=360;else if(c<0)c+=360;if(c<60)return d+(b-d)*c/60;if(c<180)return b;if(c<240)return d+(b-d)*(240-c)/60;return d}var d,b;a%=360;if(a<0)a+=360;g=g<0?0:g>1?1:g;e=e<0?0:e>1?1:e;b=e<=0.5?e*(1+g):e+g-e*g;d=2*e-b;return{r:Math.round(f(a+120)*255),g:Math.round(f(a)*255),b:Math.round(f(a-120)*255)}}function G(a){var g=parseFloat(a);return a.charAt(a.length-1)=="%"?Math.round(g*2.55):g}function Q(){function a(f,d){var b=Object.create(g);b.pop=f;b.data=function(c){var i,
h={impl:R,bind:$,value:c,actions:[],enterActions:[],exitActions:[]};d.push(h);i=a(b,h.actions);i.enter=a(b,h.enterActions);i.exit=a(b,h.exitActions);i.key=function(l,n){h.key={name:A.qualify(l),value:n};return i};return i};b.attr=function(c,i){d.push({impl:aa,bind:ba,name:A.qualify(c),value:i});return b};b.style=function(c,i,h){d.push({impl:ca,bind:da,name:c,value:i,priority:arguments.length<3?null:h});return b};b.append=function(c,i){var h={impl:ea,name:A.qualify(c),value:i,actions:[]};d.push(h);
return a(b,h.actions)};b.remove=function(c){d.push({impl:fa,selector:c});return b};b.text=function(c){d.push({impl:ga,value:c});return b};b.on=function(c){c={impl:ha,type:c,actions:[]};d.push(c);return a(b,c.actions)};b.filter=function(c){c={impl:S,bind:S,filter:c,actions:[]};d.push(c);return a(b,c.actions)};b.select=function(c){c={impl:H,bind:ia,selector:c,actions:[]};d.push(c);return a(b,c.actions)};b.selectAll=function(c){c={impl:I,bind:ja,selector:c,actions:[]};d.push(c);return a(b,c.actions)};
b.transition=function(){var c,i={impl:ka,actions:[],endActions:[],ease:k.ease("cubic-in-out"),delay:0,duration:250};d.push(i);c=a(b,i.actions);c.end=a(b,i.endActions);c.ease=function(h){i.ease=typeof h=="string"?k.ease(h):h;return c};c.delay=function(h){i.delay=h;return c};c.duration=function(h){i.duration=h;return c};return c};return b}var g={},e=[];g.select=function(f){f={impl:H,selector:f,actions:[]};e.push(f);return a(g,f.actions)};g.selectAll=function(f){f={impl:I,selector:f,actions:[]};e.push(f);
return a(g,f.actions)};g.apply=function(){j.unshift(null);u(e,[{node:document,index:0}]);j.shift();return g};return g}function u(a,g){var e=a.length,f;for(f=0;f<e;++f)a[f].impl(g,u)}function ea(a,g){var e=a.length,f=this.name,d=[],b,c,i;if(f.local)for(b=0;b<e;++b){d.push(i=Object.create(c=a[b]));i.node=(i.parent=c).node.appendChild(document.createElementNS(f.space,f.local))}else for(b=0;b<e;++b){d.push(i=Object.create(c=a[b]));i.node=(i.parent=c).node.appendChild(document.createElement(f))}g(this.actions,
d)}function aa(a){var g=a.length,e=this.name,f=this.value,d,b,c;if(e.local)if(f==null)for(d=0;d<g;++d)a[d].node.removeAttributeNS(e.space,e.local);else if(typeof f=="function")for(d=0;d<g;++d){j[0]=(b=a[d]).data;c=f.apply(b,j);c==null?b.node.removeAttributeNS(e.space,e.local):b.node.setAttributeNS(e.space,e.local,c)}else for(d=0;d<g;++d)a[d].node.setAttributeNS(e.space,e.local,f);else if(f==null)for(d=0;d<g;++d)a[d].node.removeAttribute(e);else if(typeof f=="function")for(d=0;d<g;++d){j[0]=(b=a[d]).data;
c=f.apply(b,j);c==null?b.node.removeAttribute(e):b.node.setAttribute(e,c)}else for(d=0;d<g;++d)a[d].node.setAttribute(e,f)}function ba(a){var g=a.length,e=this.name,f=this.bound||(this.bound=this.value),d="attr."+(e.local?e.space+":"+e.local:e),b,c;if(f&&f.bind){if(e.local)for(b=0;b<g;++b){(c=a[b]).value=c.node.getAttributeNS(e.space,e.local);c.name=e.space+":"+e.local;j[0]=c.data;c[d]=f.bind.apply(c,j);delete c.value;delete c.name}else for(b=0;b<g;++b){(c=a[b]).value=c.node.getAttribute(e);c.name=
e;j[0]=c.data;c[d]=f.bind.apply(c,j);delete c.value;delete c.name}this.value=function(){return this[d].apply(this,arguments)}}}function R(a,g){var e=this.value,f=a.length,d,b=this.key,c,i,h,l,n=[],o=[],v=[],p,s,m;if(typeof e=="function"){c=j.shift();e=e.apply(null,j);j.unshift(c)}d=e.length;if(b){c=b.name;i=b.value;p={};s={};m={};if(c.local)for(b=0;b<f;++b){if(l=a[b].node){h=l.getAttributeNS(c.space,c.local);if(h!=null)p[h]=l}}else for(b=0;b<f;++b)if(l=a[b].node){h=l.getAttribute(c);if(h!=null)p[h]=
l}for(b=0;b<d;++b){j[0]=c=e[b];h=i.apply(null,j);if(h!=null){s[h]=c;m[h]=b}}for(h in s){c=s[h];b=m[h];(l=p[h])?o.push({node:l,data:c,key:h,index:b}):n.push({node:a.parent.node,data:c,key:h,index:b})}for(h in p)h in s||v.push({node:p[h]})}else{h=d<f?d:f;for(b=0;b<h;++b){(l=a[b]).data=e[b];if(l.node)o.push(l);else{l.node=l.parent.node;n.push(l)}}for(h=b;h<d;++h)n.push({node:a.parent.node,data:e[h],index:h});for(h=b;h<f;++h)v.push(a[h])}g(this.enterActions,n);g(this.actions,o);g(this.exitActions,v)}
function $(a,g){var e=a.length,f=this.bound||(this.bound=this.value),d,b,c;if(f&&f.bind){d=[];for(b=0;b<e;++b){j[0]=(c=a[b]).data;c.value=c.data;c.data_=f.bind.apply(c,j);delete c.value}this.value=function(){j.unshift(null);for(b=0;b<e;++b){j[0]=(c=a[b]).data;d[b]=c.data_.apply(c,j)}j.shift();return d}}else R.call(this,a,g)}function fa(a){var g=a.length,e=this.selector,f,d,b,c,i;if(e==null)for(d=0;d<g;++d){i=a[d].node;i.parentNode.removeChild(i)}else for(d=0;d<g;++d){f=a[d].node.querySelectorAll(e);
b=0;for(c=f.length;b<c;b++){i=f[b];i.parentNode.removeChild(i)}}}function ha(a){function g(l){return function(n){var o=j;try{j=h;k.event=n;for(c=0;c<f;++c)e[c].impl(l,u)}finally{delete k.event;j=o}}}var e=this.actions,f=e.length,d=a.length,b="on"+this.type,c=0,i,h=j.slice();if(f)for(;c<d;++c){i=a[c];i.node[b]=g([i])}else for(;c<d;++c)a[c].node[b]=null}function S(a,g){var e=[],f=a.length,d=this.filter,b,c;for(b=0;b<f;++b){j[0]=(c=a[b]).data;d.apply(c,j)&&e.push(c)}g(this.actions,e)}function H(a,g){var e=
[],f=a.length,d=this.selector,b,c,i,h;for(b=0;b<f;++b){h=(c=a[b]).node.querySelector(d);e.push(i=Object.create(c));i.parent=c;i.node=h}g(this.actions,e)}function ia(a,g){var e=this;H.call(this,a,function(f,d){g(f,d);e.impl=function(b,c){c(f,d)}})}function I(a,g){var e=a.length,f=this.selector,d,b;j.unshift(null);for(d=0;d<e;++d){j[1]=(b=a[d]).data;var c=g,i=this.actions,h=b.node.querySelectorAll(f),l=[],n=0,o=h.length;for(l.parent=b;n<o;n++)l.push({node:h[n],index:n});c(i,l)}j.shift()}function ja(a,
g){var e=a.length,f,d;I.call(this,a,function(b,c){g(b,c.parent.selectAll=c)});this.impl=function(b,c){j.unshift(null);f=0;for(e=b.length;f<e;++f){j[1]=(d=b[f]).data;c(this.actions,d.selectAll)}j.shift()}}function ca(a){var g=a.length,e=this.name,f=this.value,d=this.priority,b,c,i;if(f==null)for(b=0;b<g;++b)a[b].node.style.removeProperty(e);else if(typeof f=="function")for(b=0;b<g;++b){c=a[b];j[0]=c.data;i=f.apply(c,j);i==null?c.node.style.removeProperty(e):c.node.style.setProperty(e,i,d)}else for(b=
0;b<g;++b)a[b].node.style.setProperty(e,f,d)}function da(a){var g=a.length,e=this.name,f=this.bound||(this.bound=this.value),d="style."+e,b,c;if(f&&f.bind){for(b=0;b<g;++b){(c=a[b]).value=c.node.style.getPropertyValue(e);c.name=e;j[0]=c.data;c[d]=f.bind.apply(c,j);delete c.value;delete c.name}this.value=function(){return this[d].apply(this,arguments)}}}function ga(a){var g=a.length,e=this.value,f,d,b;if(typeof e=="function")for(f=0;f<g;++f){d=a[f];j[0]=d.data;b=e.apply(d,j);for(d=d.node;d.lastChild;)d.removeChild(d.lastChild);
d.appendChild(document.createTextNode(b))}else for(f=0;f<g;++f){for(d=a[f].node;d.lastChild;)d.removeChild(d.lastChild);d.appendChild(document.createTextNode(e))}}function ka(a){function g(w){var q=j;for(m=0;m<s;++m)(r=a[m]).node.interval=w;try{k.time=0;j=B;T(d,a)}finally{delete k.time;j=q}}function e(){var w=j,q=a.filter(function(la){return la.node.interval==o}),C=q.length,J=Date.now(),x,U=true;try{j=B;for(m=0;m<C;++m){r=q[m];x=(J-c-r.delay)/l;if(!(x<0)){if(x>1)x=1;else U=false;k.time=n(x);for(t=
0;t<v;++t)d[t].impl([r],u);if(x==1){for(t=0;t<p;++t)b[t].impl([r],u);r.delay=Infinity}}}}finally{delete k.time;j=w}U&&clearInterval(o)}function f(){var w=j,q=(Date.now()-c-i)/l,C=a.filter(function(J){return J.node.interval==o});try{j=B;k.time=n(q<0?0:q>1?1:q);for(m=0;m<v;++m)d[m].impl(C,u)}finally{delete k.time;j=w}if(q>=1){clearInterval(o);try{j=B;for(m=0;m<p;++m)b[m].impl(C,u)}finally{j=w}}}var d=this.actions,b=this.endActions,c=Date.now(),i=this.delay,h=Infinity,l=this.duration,n=this.ease,o,v=
d.length,p=b.length,s=a.length,m,t,r,K,B=j.slice();if(typeof i=="function"){for(m=0;m<s;++m){j[0]=(r=a[m]).data;K=r.delay=i.apply(r,j);if(K<h)h=K}setTimeout(function(){g(o=setInterval(e,24))},h)}else setTimeout(function(){g(o=setInterval(f,24))},i)}function T(a,g){var e=a.length,f,d;for(d=0;d<e;++d){f=a[d];f.bind&&f.bind(g,T)}}var k=D.d3={};k.version="0.0.0";var A={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"},resolve:function(a){return A.prefix[a]||null},qualify:function(a){var g=a.indexOf(":");return g<0?a:{space:A.prefix[a.substring(0,g)],local:a.substring(g+1)}}};k.dispatch=function(a){var g={};a.on=function(e,f){for(var d=g[e]||(g[e]=[]),b=0;b<d.length;b++)if(d[b].handler==f)return a;d.push({handler:f,on:true});return a};a.off=function(e,f){var d=g[e];if(d)for(var b=0;b<d.length;b++){var c=d[b];if(c.handler==f){c.on=false;d.splice(b,1);break}}return a};a.dispatch=
function(e){var f=g[e.type];if(f){f=f.slice();for(var d=0;d<f.length;d++){var b=f[d];b.on&&b.handler.call(a,e)}}};return a};var ma=E(2),na=E(3),oa={linear:function(){return V},poly:E,quad:function(){return ma},cubic:function(){return na},sin:function(){return W},exp:function(){return X},circle:function(){return Y},elastic:function(a,g){var e;if(arguments.length<2)g=0.45;if(arguments.length<1){a=1;e=g/4}else e=g/(2*Math.PI)*Math.asin(1/a);return function(f){return 1+a*Math.pow(2,10*-f)*Math.sin(-(f+
e)*2*Math.PI/g)}},back:function(a){a||(a=1.70158);return function(g){return g*g*((a+1)*g-a)}},bounce:function(){return Z}},pa={"in":function(a){return a},out:y,"in-out":O,"out-int":function(a){return O(y(a))}};k.ease=function(a){var g=a.indexOf("-"),e=g>=0?a.substring(0,g):a;g=g>=0?a.substring(g+1):"in";return pa[g](oa[e].apply(null,Array.prototype.slice.call(arguments,1)))};k.interpolate=function(a,g){if(typeof g=="number")return k.interpolateNumber(+a,g);if(typeof g=="string")return k.interpolateString(String(a),
g);if(g instanceof Array)return k.interpolateArray(a,g);return k.interpolateObject(a,g)};k.interpolateNumber=function(a,g){g-=a;return function(e){return a+g*e}};k.interpolateString=function(a,g){var e,f,d=0,b=[],c=[],i,h;for(f=0;e=L.exec(g);++f){e.index&&b.push(g.substring(d,e.index));c.push({i:b.length,x:e[0]});b.push(null);d=L.lastIndex}d<g.length&&b.push(g.substring(d));f=0;for(i=c.length;(e=L.exec(a))&&f<i;++f){h=c[f];if(h.x==e[0]){if(h.i)if(b[h.i+1]==null){b[h.i-1]+=h.x;b.splice(h.i,1);for(e=
f+1;e<i;++e)c[e].i--}else{b[h.i-1]+=h.x+b[h.i+1];b.splice(h.i,2);for(e=f+1;e<i;++e)c[e].i-=2}else if(b[h.i+1]==null)b[h.i]=h.x;else{b[h.i]=h.x+b[h.i+1];b.splice(h.i+1,1);for(e=f+1;e<i;++e)c[e].i--}c.splice(f,1);i--;f--}else h.x=k.interpolateNumber(parseFloat(e[0]),parseFloat(h.x))}for(;f<i;){h=c.pop();if(b[h.i+1]==null)b[h.i]=h.x;else{b[h.i]=h.x+b[h.i+1];b.splice(h.i+1,1)}i--}if(b.length==1)return b[0]==null?c[0].x:function(){return g};return function(l){for(f=0;f<i;++f)b[(h=c[f]).i]=h.x(l);return b.join("")}};
k.interpolateRgb=function(a,g){a=F(a);g=F(g);var e=a.r,f=a.g,d=a.b,b=g.r-e,c=g.g-f,i=g.b-d;return function(h){return"rgb("+Math.round(e+b*h)+","+Math.round(f+c*h)+","+Math.round(d+i*h)+")"}};k.interpolateArray=function(a,g){var e=[],f=[],d=a.length,b=g.length,c=Math.min(a.length,g.length),i;for(i=0;i<c;++i)e.push(k.interpolate(a[i],g[i]));for(;i<d;++i)f[i]=a[i];for(;i<b;++i)f[i]=g[i];return function(h){for(i=0;i<c;++i)f[i]=e[i](h);return f}};k.interpolateObject=function(a,g){var e={},f={},d;for(d in a)if(d in
g)e[d]=(d in M||/\bcolor\b/.test(d)?k.interpolateRgb:k.interpolate)(a[d],g[d]);else f[d]=a[d];for(d in g)d in a||(f[d]=g[d]);return function(b){for(d in e)f[d]=e[d](b);return f}};var L=/[-+]?(?:\d+\.\d+|\d+\.|\.\d+|\d+)(?:[eE][-]?\d+)?/g,M={background:1,fill:1,stroke:1};k.tween=function(a){return{bind:typeof a=="function"?function(){var g=this.value,e=this.name,f=a.apply(this,arguments),d=(e in M||/\bcolor\b/.test(e)?k.interpolateRgb:k.interpolate)(g,f);return function(){return d(k.time)}}:function(){var g=
this.value,e=this.name,f=(e in M||/\bcolor\b/.test(e)?k.interpolateRgb:k.interpolate)(g,a);return function(){return f(k.time)}}}};var z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",
cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",
firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",
mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",
rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},
N;for(N in z)z[N]=F(z[N]);k.hsl=function(a,g,e){a=P(a,g,e);return"rgb("+a.r+","+a.g+","+a.b+")"};var j=[];k.select=function(a){return Q().select(a)};k.selectAll=function(a){return Q().selectAll(a)}})(this);
